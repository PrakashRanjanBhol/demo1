// Update the onFileSelected method:
onFileSelected(event: any): void {
  if (this.isUploading) return;

  const files = event.target.files;
  if (files && files.length > 0) {
    for (let i = 0; i < files.length; i++) {
      // Check if file is valid type and has content
      if (this.isValidFileType(files[i])) {
        if (files[i].size === 0) {
          alert(`File "${files[i].name}" is empty and cannot be uploaded.`);
          continue; // Skip this file
        }
        
        const exists = this.uploadedFilesWithStatus.some(f => f.file.name === files[i].name);
        if (!exists) {
          this.uploadedFilesWithStatus.push({
            file: files[i],
            status: 'pending',
            progress: 0
          });
        }
      } else {
        alert(`Invalid file type: ${files[i].name}. Only .vtt and .srt files are allowed.`);
      }
    }
  }
  // Reset input value to allow re-uploading same file
  event.target.value = '';
}









// Update the onFileDrop method:
onFileDrop(event: DragEvent): void {
  if (this.isUploading) return;

  event.preventDefault();
  this.isDragging = false;

  const files = event.dataTransfer?.files;
  if (files && files.length > 0) {
    for (let i = 0; i < files.length; i++) {
      // Check if file is valid type and has content
      if (this.isValidFileType(files[i])) {
        if (files[i].size === 0) {
          alert(`File "${files[i].name}" is empty and cannot be uploaded.`);
          continue; // Skip this file
        }
        
        const exists = this.uploadedFilesWithStatus.some(f => f.file.name === files[i].name);
        if (!exists) {
          this.uploadedFilesWithStatus.push({
            file: files[i],
            status: 'pending',
            progress: 0
          });
        }
      } else {
        alert(`Invalid file type: ${files[i].name}. Only .vtt and .srt files are allowed.`);
      }
    }
  }
}
