onGenerateComplete(data: { file: any, prompts: string, mode: string }): void {
  const newItem = {
    id: data.file.fileID.toString(),
    name: data.file.fileName,
    displayDate: 'Created on ' + new Date().toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    }),
    date: new Date(),
    progress: 'completed',
    status: 'completed' as 'not-generated' | 'in-progress' | 'completed',
    isClickable: true
  };

  // Add to history
  if (this.historyComponent) {
    this.historyComponent.addHistoryItem(newItem);
  }

  // Load results
  this.selectedHistoryItem = newItem;
  this.loadResultsForItem(newItem.id);
}
