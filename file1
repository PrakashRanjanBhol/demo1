// MODIFIED rejectChanges method with consistent timing
public async rejectChanges(): Promise<void> {
  if (this.currentApprovalRequest && !this.isRejectingChanges) {
    console.log('‚ùå REJECTED:', this.currentApprovalRequest.data);
    console.log('Continuing with next operation...\n');
    
    // Set loading state
    this.isRejectingChanges = true;
    this.cdr.detectChanges();
    
    // Minimum display time for spinner (for consistent UX)
    const minSpinnerTime = 500; // ms
    const startTime = Date.now();
    
    // Mark the current tool as rejected in the data
    this.currentApprovalRequest.data.rejected = true;
    
    // Add to executed items with rejected flag BEFORE resetting
    this.executedItems.push(this.currentApprovalRequest.data);
    
    // Reset approval state
    this.isWaitingForApproval = false;
    this.currentApprovalRequest = null;
    
    // Continue to next operation
    this.parserService.approveAndContinue();
    this.updateLists();
    
    // Ensure spinner shows for minimum time
    const elapsed = Date.now() - startTime;
    const remainingTime = Math.max(0, minSpinnerTime - elapsed);
    
    await this.delay(remainingTime);
    
    // Reset loading state
    this.isRejectingChanges = false;
    this.cdr.detectChanges();
  }
}

// Helper method for delay (if not already present)
private delay(ms: number): Promise<void> {
  return new Promise(resolve => setTimeout(resolve, ms));
}
