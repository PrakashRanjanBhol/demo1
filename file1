import com.intellij.openapi.application.ApplicationManager;
import com.intellij.openapi.ui.Messages;

int result = Messages.showYesNoDialog(
        "Do you want to restart IntelliJ IDEA now?",
        "Restart Required",
        Messages.getQuestionIcon()
);

if (result == Messages.YES) {
    ApplicationManager.getApplication().restart();
}
