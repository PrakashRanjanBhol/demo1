<!-- Features Selection Section -->
<div class="settings-section">
    <div class="section-header">
        <div class="section-title">Features</div>
        <p class="section-description">Select the features you want to enable</p>
    </div>
    <div class="features-list">
        <div class="feature-item" [class.disabled]="true">
            <div class="feature-info">
                <h4>General</h4>
                <p>Core features (Always enabled)</p>
            </div>
            <div class="feature-toggle">
                <input type="checkbox" id="feature-general" checked disabled>
                <label for="feature-general" class="toggle-switch disabled"></label>
            </div>
        </div>
        
        <div *ngFor="let feature of features" class="feature-item" (click)="toggleFeature(feature.id)">
            <div class="feature-info">
                <h4>{{ feature.name }}</h4>
                <p>{{ feature.description }}</p>
            </div>
            <div class="feature-toggle">
                <input type="checkbox" [id]="'feature-' + feature.id" [checked]="isFeatureEnabled(feature.id)">
                <label [for]="'feature-' + feature.id" class="toggle-switch"></label>
            </div>
        </div>
    </div>
</div>














interface Feature {
  id: string;
  name: string;
  description: string;
}

// Add to your component class:
features: Feature[] = [
  { id: 'code-rag', name: 'Code RAG', description: 'Code retrieval and generation' },
  { id: 'jira', name: 'Jira', description: 'Jira integration and management' },
  { id: 'confluence', name: 'Confluence', description: 'Confluence documentation' },
  { id: 'prompt-template', name: 'Prompt Template', description: 'Custom prompt templates' },
  { id: 'sdlc-suite', name: 'SDLC Suite', description: 'Software development lifecycle tools' },
  { id: 'bitbucket', name: 'Bitbucket', description: 'Bitbucket repository integration' },
  { id: 'agentic-ai', name: 'Agentic AI', description: 'AI-powered automation agents' }
];

selectedFeatures: string[] = ['code-rag', 'jira']; // Default selected features

toggleFeature(featureId: string): void {
  const index = this.selectedFeatures.indexOf(featureId);
  if (index > -1) {
    this.selectedFeatures.splice(index, 1);
  } else {
    this.selectedFeatures.push(featureId);
  }
  localStorage.setItem('selectedFeatures', JSON.stringify(this.selectedFeatures));
  console.log('Selected features:', this.selectedFeatures);
}

isFeatureEnabled(featureId: string): boolean {
  return this.selectedFeatures.includes(featureId);
}

// Add to ngOnInit():
const savedFeatures = localStorage.getItem('selectedFeatures');
if (savedFeatures) {
  this.selectedFeatures = JSON.parse(savedFeatures);
}






/* Features Selection */
.features-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.feature-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 14px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1.5px solid var(--app-settings-theme-border);
    background: var(--app-settings-bg);
}

.feature-item:hover:not(.disabled) {
    border-color: var(--app-settings-theme-hover-border);
    background: var(--app-settings-card-bg);
}

.feature-item.disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.feature-info h4 {
    font-size: 13px;
    color: var(--app-settings-text-primary);
    font-weight: 500;
    margin-bottom: 2px;
}

.feature-info p {
    font-size: 11px;
    color: var(--app-settings-text-tertiary);
    margin: 0;
}

.feature-toggle {
    position: relative;
}

.feature-toggle input[type="checkbox"] {
    display: none;
}

.toggle-switch {
    width: 42px;
    height: 24px;
    background: var(--app-settings-check-border);
    border-radius: 12px;
    position: relative;
    cursor: pointer;
    transition: background 0.3s ease;
    display: block;
}

.toggle-switch::after {
    content: '';
    position: absolute;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: white;
    top: 3px;
    left: 3px;
    transition: left 0.3s ease;
}

.feature-toggle input[type="checkbox"]:checked + .toggle-switch {
    background: var(--app-settings-selected-border);
}

.feature-toggle input[type="checkbox"]:checked + .toggle-switch::after {
    left: 21px;
}

.toggle-switch.disabled {
    cursor: not-allowed;
    opacity: 0.6;
}
