export class SidebarComponent implements OnInit {
  @Input() isSidebarOpen = false;
  @Output() onShare = new EventEmitter<string[]>();

  searchTerm = '';
  selectAll = false;
  employees: Employee[] = [];
  isLoading = false;
  isSharing = false;

  constructor(private http: HttpClient) {}

  // ... other methods remain the same ...

  shareWorkflow(): void {
    const selectedEmails = this.employees
      .filter(emp => emp.selected)
      .map(emp => emp.email);
    
    if (selectedEmails.length > 0) {
      this.isSharing = true;
      this.onShare.emit(selectedEmails);
      
      // Simulate API call - remove this and handle in parent component
      setTimeout(() => {
        this.isSharing = false;
      }, 2000);
    }
  }
}














<!-- Footer Section -->
  <div class="sidebar-footer">
    <button 
      class="share-button" 
      [disabled]="selectedCount === 0 || isLoading || isSharing"
      (click)="shareWorkflow()"
    >
      <svg 
        class="spinner" 
        *ngIf="isSharing"
        viewBox="0 0 24 24" 
        fill="none" 
        stroke="currentColor" 
        stroke-width="2"
      >
        <circle cx="12" cy="12" r="10"></circle>
      </svg>
      {{ isSharing ? 'Sharing Workflow' : 'Share Workflow' }}
    </button>
  </div>















.share-button {
  padding: 8px 16px;
  background-color: var(--agentic-ai-share-sidebar-button-bg);
  color: #ffffff;
  border: none;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.spinner {
  width: 14px;
  height: 14px;
  animation: spin 0.8s linear infinite;
}

.spinner circle {
  stroke-dasharray: 50;
  stroke-dashoffset: 25;
  transform-origin: center;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}















// parent.component.ts
handleShare(selectedEmails: string[]): void {
  // Make your API call here
  this.yourService.shareWorkflow(selectedEmails).subscribe({
    next: (response) => {
      // Reset isSharing in sidebar component or close sidebar
      console.log('Shared successfully');
    },
    error: (error) => {
      // Handle error and reset isSharing
      console.error('Share failed:', error);
    }
  });
}
