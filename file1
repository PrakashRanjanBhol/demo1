stopWorkflow(workflowId: string, event: Event): void {
  event.stopPropagation();
  
  // Add workflow ID to stopping array
  this.stoppingWorkflowIds.push(workflowId);
  
  console.log(`Stopping workflow: ${workflowId}`);
  
  // Simulate API call with delay
  setTimeout(() => {
    // Find the workflow in active workflows
    const stoppedWorkflow = this.activeWorkflows.find(w => w.id === workflowId);
    
    // Remove from active workflows
    this.activeWorkflows = this.activeWorkflows.filter(w => w.id !== workflowId);
    
    // Update status in myWorkflows if it exists there
    if (stoppedWorkflow) {
      const myWorkflow = this.myWorkflows.find(w => w.id === workflowId);
      if (myWorkflow) {
        myWorkflow.active = false;
      }
    }
    
    // Clear selection if this workflow was selected
    if (this.selectedActiveWorkflowId === workflowId) {
      this.selectedActiveWorkflowId = null;
      console.log('Selected active workflow cleared');
    }
    
    // Remove from stopping array
    this.stoppingWorkflowIds = this.stoppingWorkflowIds.filter(id => id !== workflowId);
    
    console.log(`Workflow ${workflowId} stopped and removed from Active Workflows`);
    
    // In production: make API call to stop workflow
  }, 2000); // 2 second delay to simulate API call
}
