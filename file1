<!-- Select All Section -->
  <div class="select-all-container">
    <label class="checkbox-item">
      <input 
        type="checkbox" 
        [checked]="selectAll"
        [indeterminate]="isIndeterminate"
        (change)="toggleSelectAll()"
        [disabled]="isLoading || isSharing"
      >
      <span class="checkbox-label">Select All</span>
    </label>
    <div class="selected-count">{{ selectedCount }} of {{ totalVisible }} selected</div>
  </div>

  <!-- Employee List Section with Skeleton Loader -->
  <div class="employee-list">
    <!-- Skeleton Loader -->
    <ng-container *ngIf="isLoading">
      <div class="skeleton-item" *ngFor="let item of [1,2,3,4,5,6,7,8]">
        <div class="skeleton-checkbox"></div>
        <div class="skeleton-text"></div>
      </div>
    </ng-container>

    <!-- Actual Employee List -->
    <ng-container *ngIf="!isLoading">
      <div class="employee-item" *ngFor="let employee of filteredEmployees">
        <label class="checkbox-item">
          <input 
            type="checkbox" 
            class="employee-checkbox"
            [(ngModel)]="employee.selected"
            (change)="onEmployeeChange()"
            [disabled]="isSharing"
          >
          <svg class="employee-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span class="employee-name">{{ employee.email }}</span>
        </label>
      </div>
    </ng-container>
  </div>
