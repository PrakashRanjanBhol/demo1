mapResponseToHistoryItems(files: HistoryFileResponse[]): HistoryItem[] {
  return files
    .filter(file => file.progress !== null) // ADD THIS LINE - Filter out null progress files
    .map(file => {
      const status = this.getFileStatus(file.progress);
      return {
        id: file.id.toString(),
        name: file.original_name,
        displayDate: `Created on ${file.inserted_at}`,
        date: new Date(file.inserted_at),
        progress: file.progress,
        status: status,
        isClickable: status === 'completed'
      };
    });
}
