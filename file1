import { Component, ElementRef, ViewChild } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  @ViewChild('textarea') textareaRef!: ElementRef<HTMLTextAreaElement>;
  imageSrc: string | null = null;

  onPaste(event: ClipboardEvent): void {
    const items = event.clipboardData?.items;
    if (!items) return;

    for (let item of items) {
      if (item.type.startsWith('image/')) {
        const file = item.getAsFile();
        if (file) {
          this.imageSrc = URL.createObjectURL(file);
          event.preventDefault(); // prevent base64 text paste
        }
      }
    }
  }
}








<div class="container">
  <h3>Paste Text or Image</h3>
  <textarea
    #textarea
    placeholder="Paste text or image here..."
    (paste)="onPaste($event)"
  ></textarea>

  <div id="preview" *ngIf="imageSrc">
    <img [src]="imageSrc" alt="Pasted Image" />
  </div>
</div>



