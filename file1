private handleGenerationStatusChange(statusUpdate: GenerationStatus): void {
  const itemId = statusUpdate.id.toString();
  const item = this.historyItems.find(i => i.id === itemId);

  if (!item) {
    console.warn('Item not found for status update:', itemId);
    return;
  }

  console.log(`Generation status update for item ${itemId}: ${statusUpdate.status}`);

  // Find the history item element
  const historyItemElement = document.querySelector(
    `.history-item[data-item-id="${itemId}"]`
  ) as HTMLElement;

  if (statusUpdate.status === 'Success') {
    // Move to Completed Results
    if (!item.hasResult) {
      console.log(`Moving item ${itemId} to Completed Results`);
      
      // Add success animation
      if (historyItemElement) {
        historyItemElement.classList.add('success-animation');
        setTimeout(() => {
          historyItemElement.classList.remove('success-animation');
        }, 1000);
      }

      // Update the item's hasResult property
      item.hasResult = true;

      // Expand Completed section if it's collapsed
      if (!this.isCompletedExpanded) {
        this.isCompletedExpanded = true;
      }
    }

    // Clear the added state (remove minus icon, restore plus icon)
    if (this.addedToGenerationId === itemId) {
      console.log(`Clearing added state for item ${itemId} - restoring plus icon`);
      this.addedToGenerationId = null;
    }
  } else if (statusUpdate.status === 'Failure') {
    // Move to Pending Results
    if (item.hasResult) {
      console.log(`Moving item ${itemId} to Pending Results`);
      
      // Add failure animation
      if (historyItemElement) {
        historyItemElement.classList.add('failure-animation');
        setTimeout(() => {
          historyItemElement.classList.remove('failure-animation');
        }, 1000);
      }

      // Update the item's hasResult property
      item.hasResult = false;

      // Expand Pending section if it's collapsed
      if (!this.isPendingExpanded) {
        this.isPendingExpanded = true;
      }
    }

    // Clear the added state (remove minus icon, restore plus icon)
    if (this.addedToGenerationId === itemId) {
      console.log(`Clearing added state for item ${itemId} - restoring plus icon`);
      this.addedToGenerationId = null;
    }
  }
}
