import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  pastedFile: File | null = null;
  pastedText: string | null = null;

  onPaste(event: ClipboardEvent): void {
    const items = event.clipboardData?.items;
    if (!items || items.length === 0) return;

    const firstItem = items[0]; // âœ… Take only the FIRST item

    // Clear previous values
    this.pastedFile = null;
    this.pastedText = null;

    if (firstItem.type.startsWith('image/')) {
      const file = firstItem.getAsFile();
      if (file) {
        this.pastedFile = file;
        event.preventDefault(); // block base64 text paste
      }
    } else if (firstItem.type === 'text/plain') {
      firstItem.getAsString((text) => {
        this.pastedText = text;
      });
    }
  }

  get imageURL(): string | null {
    return this.pastedFile ? URL.createObjectURL(this.pastedFile) : null;
  }
}
