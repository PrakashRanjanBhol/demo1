<!-- Arrow pointer indicator -->
<div class="action-arrow-indicator"
    *ngIf="activeActionItem === item.id"
    [class.copy-arrow]="activeActionType === 'copy'"
    [class.download-arrow]="activeActionType === 'download'">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
        stroke-width="2.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
            d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
    </svg>
</div>



/* ── Arrow Indicator ──────────────────────────────────────────── */
.result-item-header-row {
    position: relative;
}

.action-arrow-indicator {
    position: absolute;
    bottom: -14px;
    right: 20px;
    width: 24px;
    height: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    animation: arrowAppear 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.action-arrow-indicator::before {
    content: '';
    position: absolute;
    top: 4px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left:  8px solid transparent;
    border-right: 8px solid transparent;
    border-top:   8px solid var(--primary-color);
    filter: drop-shadow(0 2px 3px var(--primary-shadow));
    animation: arrowBounce 1s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
}

.action-arrow-indicator::after {
    content: '';
    position: absolute;
    top: 3px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left:  8px solid transparent;
    border-right: 8px solid transparent;
    border-top:   8px solid white;
    z-index: -1;
}

.action-arrow-indicator svg {
    display: none;
}

/* Copy arrow - purple */
.copy-arrow::before {
    border-top-color: var(--primary-color);
    filter: drop-shadow(0 2px 4px var(--primary-shadow));
}

/* Download arrow - green */
.download-arrow::before {
    border-top-color: #10b981;
    filter: drop-shadow(0 2px 4px rgba(16, 185, 129, 0.4));
}

.download-arrow::after {
    border-top-color: white;
}

/* Arrow appear animation */
@keyframes arrowAppear {
    0% {
        opacity:   0;
        transform: translateY(-6px) scale(0.7);
    }
    100% {
        opacity:   1;
        transform: translateY(0) scale(1);
    }
}

/* Arrow bounce animation */
@keyframes arrowBounce {
    0%, 100% {
        transform: translateX(-50%) translateY(0px);
    }
    30% {
        transform: translateX(-50%) translateY(3px);
    }
    60% {
        transform: translateX(-50%) translateY(1px);
    }
}

/* Pulse ring behind arrow */
.action-arrow-indicator {
    position: absolute;
    bottom: -14px;
    right: 20px;
    width: 24px;
    height: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    animation: arrowAppear 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.action-arrow-indicator::before {
    content: '';
    position: absolute;
    top: 4px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left:  8px solid transparent;
    border-right: 8px solid transparent;
    border-top:   8px solid var(--primary-color);
    animation: arrowBounce 1s cubic-bezier(0.34, 1.56, 0.64, 1) infinite;
}
