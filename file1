// Create message separator with date/time
function createMessageSeparator(timestamp) {
    const messageSeparator = document.createElement('div');
    messageSeparator.className = 'message-separator';

    const separatorLineLeft = document.createElement('div');
    separatorLineLeft.className = 'separator-line';

    const separatorText = document.createElement('span');
    separatorText.className = 'separator-text';
    separatorText.textContent = formatSeparatorDate(timestamp);

    const separatorLineRight = document.createElement('div');
    separatorLineRight.className = 'separator-line';

    messageSeparator.appendChild(separatorLineLeft);
    messageSeparator.appendChild(separatorText);
    messageSeparator.appendChild(separatorLineRight);

    return messageSeparator;
}

// Format date for separator
function formatSeparatorDate(timestamp) {
    const date = new Date(timestamp);
    const now = new Date();
    const yesterday = new Date(now);
    yesterday.setDate(yesterday.getDate() - 1);

    // Check if it's today
    if (date.toDateString() === now.toDateString()) {
        return `Today, ${date.toLocaleTimeString('en-US', { 
            hour: 'numeric', 
            minute: '2-digit',
            hour12: true 
        })}`;
    }
    
    // Check if it's yesterday
    if (date.toDateString() === yesterday.toDateString()) {
        return `Yesterday, ${date.toLocaleTimeString('en-US', { 
            hour: 'numeric', 
            minute: '2-digit',
            hour12: true 
        })}`;
    }

    // For older dates - show full date and time
    const options = { 
        month: 'short', 
        day: 'numeric',
        hour: 'numeric',
        minute: '2-digit',
        hour12: true
    };
    
    return date.toLocaleString('en-US', options);
}

// Usage Examples:
const container = document.getElementById('chat-container');

// Message 1
const message1 = document.createElement('div');
message1.className = 'chat-message';
message1.innerHTML = 'First message content...';
container.appendChild(message1);

// Separator with timestamp from your last conversation
const lastConversationTime = '2024-12-17 14:30:00'; // From your API
const separator = createMessageSeparator(lastConversationTime);
container.appendChild(separator);

// Message 2
const message2 = document.createElement('div');
message2.className = 'chat-message';
message2.innerHTML = 'Second message content...';
container.appendChild(message2);











:root {
    --playground-chat-separator-line-color: #e5e5e7;
    --playground-chat-separator-text-color: #86868b;
    --playground-chat-separator-bg: #ffffff;
    --playground-chat-separator-border: #e5e5e7;
}

[data-theme='dark'] {
    --playground-chat-separator-line-color: #27272a;
    --playground-chat-separator-text-color: #a1a1aa;
    --playground-chat-separator-bg: #1a1a1d;
    --playground-chat-separator-border: #27272a;
}

.message-separator {
    display: flex;
    align-items: center;
    gap: 16px;
    margin: 32px 0;
}

.separator-line {
    flex: 1;
    height: 1px;
    background: linear-gradient(to right, transparent, var(--playground-chat-separator-line-color), transparent);
}

.separator-text {
    font-size: 12px;
    color: var(--playground-chat-separator-text-color);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 4px 12px;
    background: var(--playground-chat-separator-bg);
    border: 1px solid var(--playground-chat-separator-border);
    border-radius: 12px;
    white-space: nowrap;
}
