export interface HistoryFileResponse {
  id: number;
  original_name: string;
  inserted_at: string;
  progress: string | null; // Changed from number | null to string | null
}

// In the component class:

getFileStatus(progress: string | null): 'not-generated' | 'in-progress' | 'completed' {
  if (progress === null) {
    return 'not-generated';
  } else if (progress === 'completed') {
    return 'completed';
  } else if (progress === 'in progress') {
    return 'in-progress';
  } else {
    // Fallback for any other value
    return 'not-generated';
  }
}

mapResponseToHistoryItems(files: HistoryFileResponse[]): HistoryItem[] {
  return files.map(file => {
    const status = this.getFileStatus(file.progress);
    return {
      id: file.id.toString(),
      name: file.original_name,
      displayDate: `Created on ${file.inserted_at}`,
      date: new Date(file.inserted_at),
      progress: file.progress,
      status: status,
      isClickable: status === 'completed'
    };
  });
}








interface HistoryItem {
  id: string;
  name: string;
  displayDate: string;
  date: Date;
  progress: string | null; // Changed from number | null to string | null
  status: 'not-generated' | 'in-progress' | 'completed';
  isClickable: boolean;
}
