<div class="user-guide">
    <h4 class="user-guide-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="guide-title-icon">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        How History Works
    </h4>

    <div class="guide-steps">

        <!-- Step 1 - always visible -->
        <div class="guide-step">
            <div class="step-header">
                <div class="step-number">1</div>
                <div class="step-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
                    </svg>
                </div>
            </div>
            <div class="step-content">
                <h5 class="step-title">Upload File</h5>
                <p class="step-description">First, upload your .VTT or .SRT file in the <strong>Upload &amp; Generate Section</strong></p>
            </div>
        </div>

        <!-- Step 2 - always visible -->
        <div class="guide-step">
            <div class="step-header">
                <div class="step-number">2</div>
                <div class="step-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
            </div>
            <div class="step-content">
                <h5 class="step-title">File Appears in History</h5>
                <p class="step-description">On successful upload, your files will appear in the <strong>History Section</strong></p>
            </div>
        </div>

        <!-- Step 3 - always visible -->
        <div class="guide-step">
            <div class="step-header">
                <div class="step-number">3</div>
                <div class="step-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
            </div>
            <div class="step-content">
                <h5 class="step-title">Pending Results</h5>
                <p class="step-description">Newly uploaded files appear in the <strong>Pending Results</strong> section where content has not been generated yet</p>
            </div>
        </div>

        <!-- Step 4 - always visible -->
        <div class="guide-step">
            <div class="step-header">
                <div class="step-number">4</div>
                <div class="step-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                    </svg>
                </div>
            </div>
            <div class="step-content">
                <h5 class="step-title">Add to Generation</h5>
                <p class="step-description">Click the <strong>+ icon</strong> on a history file to add it to the Generate component</p>
            </div>
        </div>

        <!-- Step 5 - visible only when expanded -->
        <div class="guide-step" *ngIf="isGuideExpanded">
            <div class="step-header">
                <div class="step-number">5</div>
                <div class="step-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09z" />
                    </svg>
                </div>
            </div>
            <div class="step-content">
                <h5 class="step-title">Generate Content</h5>
                <p class="step-description">Generate summary content based on the audio file in the <strong>Generate</strong> component</p>
            </div>
        </div>

        <!-- Step 6 - visible only when expanded -->
        <div class="guide-step" *ngIf="isGuideExpanded">
            <div class="step-header">
                <div class="step-number">6</div>
                <div class="step-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
            </div>
            <div class="step-content">
                <h5 class="step-title">View Results</h5>
                <p class="step-description">After generation, the file moves to the <strong>Completed Results</strong> section where you can view the results</p>
            </div>
        </div>

    </div>

    <!-- Show more / Show less toggle -->
    <button class="guide-toggle-btn" (click)="toggleGuide()">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
            [class.rotated]="isGuideExpanded">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
        </svg>
        {{ isGuideExpanded ? 'Show Less' : 'Show 2 More Steps' }}
    </button>

</div>








/* Guide toggle button */
.guide-toggle-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    width: 100%;
    margin-top: 12px;
    padding: 10px 16px;
    background: transparent;
    border: 1.5px dashed var(--border-color);
    border-radius: 10px;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    opacity: 0.7;
    cursor: pointer;
    transition: all 0.25s ease;
}

.guide-toggle-btn svg {
    width: 16px;
    height: 16px;
    stroke: currentColor;
    transition: transform 0.3s ease;
}

.guide-toggle-btn svg.rotated {
    transform: rotate(180deg);
}

.guide-toggle-btn:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    opacity: 1;
    background: linear-gradient(135deg, var(--primary-gradient-lighter-start), var(--primary-gradient-lighter-end));
}



isGuideExpanded: boolean = false;


toggleGuide(): void {
  this.isGuideExpanded = !this.isGuideExpanded;
}
