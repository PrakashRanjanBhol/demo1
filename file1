// Update the GenerateRequest interface at the top
interface GenerateRequest {
  fileID: string | number;
  optional_prompt: string;
  model_name: string;
}

// Update the handleGenerate method
handleGenerate(): void {
  if (this.uploadMode === 'new' && this.selectedUploadFile) {
    this.startProcessing(this.selectedUploadFile.name);

    // Find the uploaded file with status
    const fileWithStatus = this.uploadedFilesWithStatus.find(
      f => f.file.name === this.selectedUploadFile?.name
    );

    const request: GenerateRequest = {
      fileID: fileWithStatus?.uploadedFileId || '',
      optional_prompt: this.optionalPrompts,
      model_name: this.selectedModel
    };

    this.generateAnalysis(request);
  } else if (this.uploadMode === 'previous' && this.selectedPreviousFile) {
    this.startProcessing(this.selectedPreviousFile.name);

    const request: GenerateRequest = {
      fileID: this.selectedPreviousFile.id,
      optional_prompt: this.optionalPrompts,
      model_name: this.selectedModel
    };

    this.generateAnalysis(request);
  }
}








export interface GenerateRequest {
  fileID: string | number;
  optional_prompt: string;
  model_name: string;
}
