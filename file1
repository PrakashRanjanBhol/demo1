catch (error) {  
  if (error.response?.status === 401 && endpoint !== '/login') {  
    try {  
      // Create WebSocket connection to fetch credentials  
      const credentials = await new Promise((resolve, reject) => {  
        const ws = new WebSocket('wss://your-external-api.com/get-credentials');  
          
        const timeout = setTimeout(() => {  
          ws.close();  
          reject(new Error('WebSocket timeout'));  
        }, 5000);  
          
        ws.onmessage = (event) => {  
          clearTimeout(timeout);  
          try {  
            const data = JSON.parse(event.data);  
            resolve(data);  
          } catch (e) {  
            reject(e);  
          }  
          ws.close();  
        };  
          
        ws.onerror = (error) => {  
          clearTimeout(timeout);  
          reject(error);  
        };  
          
        ws.onclose = () => {  
          clearTimeout(timeout);  
        };  
      });  
        
      // Login with fetched credentials from WebSocket  
      await request({  
        method: 'POST',  
        baseURL,  
        endpoint: '/login',  
        data: {  
          emailOrLdapLoginId: credentials.email,  
          password: credentials.password  
        }  
      });  
        
      // Retry original request after successful login  
      const response = await axios.request(options);  
      return response.data;  
    } catch (credentialError) {  
      console.error('Auto-login failed:', credentialError);  
      // Continue with original 401 error if WebSocket fails  
    }  
  }  
