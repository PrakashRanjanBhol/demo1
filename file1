/* You can add global styles to this file, and also import other style files */

/* Light Mode Variables (Default) */
:root {
    --primary-color: #8b5cf6;
    --bg-color: #ffffff;
    --text-color: #1f2937;
    --header-bg: #ffffff;
    --footer-bg: #f9fafb;
    --border-color: #bfbfbf;
    --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-color: rgba(0, 0, 0, 0.05);
}

/* Dark Mode Variables */
[data-theme="dark"] {
    --bg-color: #0a0a0b;
    --text-color: #e5e7eb;
    --header-bg: #111113;
    --footer-bg: #141415;
    --border-color: #27272a;
    --shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    --shadow-color: rgba(0, 0, 0, 0.15);
}

/* Global Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Apply theme to body */
body {
    background-color: var(--bg-color);
    color: var(--text-color);
    transition: background-color 0.3s ease, color 0.3s ease;
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    height: 100vh;
    overflow: hidden;
}

html,
body {
    height: 100%;
    width: 100%;
}

app-root {
    display: flex;
    width: 100%;
    height: 100%;
}



























<div class="app-layout">
  <!-- Sidebar -->
  <aside class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <div class="sidebar-header">
      <div class="logo" (click)="isSidebarCollapsed ? toggleSidebar() : null">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
        </svg>
        <span class="logo-text">Content Analytics</span>
      </div>
      <button class="toggle-sidebar-btn" (click)="toggleSidebar()" aria-label="Toggle sidebar">
        <svg *ngIf="!isSidebarCollapsed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
          stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
        <svg *ngIf="isSidebarCollapsed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
          stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />
        </svg>
      </button>
    </div>

    <nav class="sidebar-nav">
      <a href="#" class="nav-item active" data-tooltip="Content Analytics">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6" />
        </svg>
        <span>Content Analytics</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <div class="footer-actions">
        <div class="footer-user">
          <div class="footer-avatar">JD</div>
          <span class="footer-name">John Doe</span>
        </div>
        <button class="footer-btn theme-toggle" (click)="onToggleTheme()"
          [attr.aria-label]="'Switch to ' + (currentTheme === 'light' ? 'dark' : 'light') + ' mode'">
          <svg *ngIf="currentTheme === 'light'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
          </svg>
          <svg *ngIf="currentTheme === 'dark'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
            stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
          </svg>
        </button>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main-wrapper">
    <router-outlet></router-outlet>

    <app-footer [appVersion]="appVersion" [currentYear]="currentYear">
    </app-footer>
  </div>
</div>









/* App Layout */
.app-layout {
    display: flex;
    width: 100%;
    height: 100vh;
    overflow: hidden;
}

/* Sidebar */
.sidebar {
    width: 260px;
    background-color: var(--header-bg);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    transition: width 0.3s ease;
}

.sidebar.collapsed {
    width: 60px;
}

.sidebar-header {
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: space-between;
    min-height: 72px;
}

.sidebar.collapsed .sidebar-header {
    padding: 20px 12px;
    justify-content: center;
    flex-direction: column;
    gap: 12px;
}

.logo {
    display: flex;
    align-items: center;
    gap: 12px;
    overflow: hidden;
}

.sidebar.collapsed .logo {
    cursor: pointer;
    position: relative;
}

.sidebar.collapsed .logo svg {
    transition: opacity 0.2s ease;
}

.sidebar.collapsed .logo:hover svg {
    opacity: 0;
}

.sidebar.collapsed .logo::after {
    content: '';
    position: absolute;
    width: 32px;
    height: 32px;
    opacity: 0;
    transition: opacity 0.2s ease;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='%238b5cf6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
}

.sidebar.collapsed .logo:hover::after {
    opacity: 1;
}

.logo svg {
    width: 32px;
    height: 32px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

.logo-text {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-color);
    white-space: nowrap;
    transition: opacity 0.2s ease;
}

.sidebar.collapsed .logo-text {
    opacity: 0;
    width: 0;
    overflow: hidden;
}

.toggle-sidebar-btn {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    background-color: transparent;
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.sidebar.collapsed .toggle-sidebar-btn {
    display: none;
}

.toggle-sidebar-btn:hover {
    background-color: var(--footer-bg);
    border-color: var(--primary-color);
}

.toggle-sidebar-btn svg {
    width: 18px;
    height: 18px;
    stroke: var(--text-color);
}

/* Sidebar Navigation */
.sidebar-nav {
    flex: 1;
    padding: 16px 12px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.sidebar.collapsed .sidebar-nav {
    padding: 16px 8px;
}

.sidebar-nav::-webkit-scrollbar {
    width: 4px;
}

.sidebar-nav::-webkit-scrollbar-track {
    background: transparent;
}

.sidebar-nav::-webkit-scrollbar-thumb {
    background-color: var(--border-color);
    border-radius: 2px;
}

.nav-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border-radius: 8px;
    color: var(--text-color);
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s ease;
    opacity: 0.7;
    white-space: nowrap;
    position: relative;
}

.sidebar.collapsed .nav-item {
    padding: 12px;
    justify-content: center;
    gap: 0;
}

.nav-item:hover {
    background-color: var(--footer-bg);
    opacity: 1;
}

.nav-item.active {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    color: var(--primary-color);
    opacity: 1;
}

.nav-item svg {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
}

.nav-item.active svg {
    stroke: var(--primary-color);
}

.nav-item span {
    transition: opacity 0.2s ease;
}

.sidebar.collapsed .nav-item span {
    opacity: 0;
    width: 0;
    overflow: hidden;
}

/* Tooltip for collapsed state */
.sidebar.collapsed .nav-item:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    left: 100%;
    margin-left: 8px;
    padding: 6px 12px;
    background-color: var(--text-color);
    color: var(--bg-color);
    border-radius: 6px;
    font-size: 12px;
    white-space: nowrap;
    z-index: 1000;
    pointer-events: none;
}

/* Sidebar Footer */
.sidebar-footer {
    padding: 12px;
    border-top: 1px solid var(--border-color);
}

.footer-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

.sidebar.collapsed .footer-actions {
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.footer-user {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 10px;
    min-width: 0;
}

.sidebar.collapsed .footer-user {
    flex: 0;
    min-width: auto;
    width: 100%;
    justify-content: center;
    gap: 0;
}

.footer-avatar {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 600;
    color: white;
    flex-shrink: 0;
}

.footer-name {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: opacity 0.2s ease;
}

.sidebar.collapsed .footer-name {
    opacity: 0;
    width: 0;
    overflow: hidden;
}

.footer-btn {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background-color: var(--footer-bg);
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.footer-btn:hover {
    background-color: var(--bg-color);
    border-color: var(--primary-color);
}

.footer-btn svg {
    width: 16px;
    height: 16px;
    stroke: var(--text-color);
}

/* Main Wrapper */
.main-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    height: 100%;
}

/* Responsive */
@media (max-width: 768px) {
    .sidebar {
        width: 220px;
    }

    .logo-text {
        font-size: 14px;
    }

    .nav-item {
        padding: 10px 12px;
        font-size: 13px;
    }
}









import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent implements OnInit {
  currentTheme: 'light' | 'dark' = 'light';
  appVersion: string = '1.0.0';
  currentYear: number = new Date().getFullYear();
  isSidebarCollapsed: boolean = true; // Default collapsed

  ngOnInit(): void {
    // Load saved theme from localStorage
    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark';
    if (savedTheme) {
      this.currentTheme = savedTheme;
      this.applyTheme(savedTheme);
    }

    // Load sidebar state from localStorage
    const savedSidebarState = localStorage.getItem('sidebarCollapsed');
    if (savedSidebarState !== null) {
      this.isSidebarCollapsed = savedSidebarState === 'true';
    }
  }

  toggleSidebar(): void {
    this.isSidebarCollapsed = !this.isSidebarCollapsed;
    localStorage.setItem('sidebarCollapsed', this.isSidebarCollapsed.toString());
  }

  onToggleTheme(): void {
    this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
    this.applyTheme(this.currentTheme);
    localStorage.setItem('theme', this.currentTheme);
  }

  private applyTheme(theme: 'light' | 'dark'): void {
    document.body.setAttribute('data-theme', theme);
  }
}













/* Content Analytics Component - Host Styles */
:host {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* Application Header */
.application-header {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border-left: 4px solid var(--primary-color);
    padding: 16px 24px;
    margin: 20px 24px 0 24px;
    border-radius: 8px;
    flex-shrink: 0;
    transition: all 0.3s ease;
    overflow: hidden;
}

.application-header-icon-wrapper {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid var(--primary-color);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.application-header-content {
    display: flex;
    align-items: center;
    gap: 14px;
    position: relative;
    z-index: 1;
}

.application-header-icon {
    width: 24px;
    height: 24px;
    stroke: var(--primary-color);
}

.application-header-text {
    flex: 1;
}

.application-title {
    font-size: 20px;
    font-weight: 700;
    margin: 0 0 3px 0;
    letter-spacing: -0.02em;
    color: var(--text-color);
}

.application-subtitle {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

/* Main Container */
.analytics-container {
    flex: 1;
    display: flex;
    gap: 0;
    margin: 16px 24px 24px 24px;
    border: 1px solid var(--border-color);
    overflow: hidden;
    min-height: 0;
}













<!-- Application Header -->
<div class="application-header">
    <div class="application-header-content">
        <div class="application-header-icon-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="application-header-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6" />
            </svg>
        </div>
        <div class="application-header-text">
            <h1 class="application-title">Content Analytics</h1>
            <p class="application-subtitle">Transform your audio into actionable insights</p>
        </div>
    </div>
</div>

<!-- Main Container with 3 Panels -->
<div class="analytics-container">
    <!-- Panel 1: Upload & Generate -->
    <app-upload-generate></app-upload-generate>

    <!-- Panel 2: History -->
    <app-history></app-history>

    <!-- Panel 3: Workspace -->
    <app-workspace></app-workspace>
</div>










import { Component } from '@angular/core';

@Component({
  selector: 'app-content-analytics',
  templateUrl: './content-analytics.component.html',
  styleUrls: ['./content-analytics.component.css']
})
export class ContentAnalyticsComponent {

}













import { Component, EventEmitter, Output, OnDestroy } from '@angular/core';
import { HttpEventType } from '@angular/common/http';
import { Subscription } from 'rxjs';
import { UploadGenerateService, UploadResponse } from 'src/app/services/upload-generate.service';
import { GenerateRequest, GenerateService } from 'src/app/services/generate.service';

interface FileWithStatus {
  file: File;
  status: 'pending' | 'uploading' | 'uploaded' | 'error';
  progress?: number;
  uploadedFileId?: number;
  uploadedFileName?: string;
  uploadedAt?: string;
}

@Component({
  selector: 'app-upload-generate',
  templateUrl: './upload-generate.component.html',
  styleUrls: ['./upload-generate.component.css']
})
export class UploadGenerateComponent implements OnDestroy {
  @Output() onGenerate = new EventEmitter<{ file: any, prompts: string, mode: 'new' }>();

  isDragging: boolean = false;
  optionalPrompts: string = '';
  isProcessing: boolean = false;
  processingProgress: number = 0;
  processingFileName: string = '';

  currentTab: 'upload' | 'generate' = 'upload';
  uploadedFilesWithStatus: FileWithStatus[] = [];
  selectedUploadFile: File | null = null;
  isUploading: boolean = false;

  // Accepted file types
  acceptedFileTypes = ['.vtt', '.srt'];
  acceptedMimeTypes = ['text/vtt', 'application/x-subrip'];

  // For Generate tab
  selectedGenerateFile: { name: string, size: number, id: string } | null = null;
  isDraggingGenerate: boolean = false;

  private subscriptions: Subscription[] = [];

  constructor(
    private uploadGenerateService: UploadGenerateService,
    private generateService: GenerateService
  ) { }

  ngOnDestroy(): void {
    this.subscriptions.forEach(sub => sub.unsubscribe());
  }

  onFileSelected(event: any): void {
    if (this.isUploading) return;

    const files = event.target.files;
    if (files && files.length > 0) {
      for (let i = 0; i < files.length; i++) {
        if (this.isValidFileType(files[i])) {
          const exists = this.uploadedFilesWithStatus.some(f => f.file.name === files[i].name);
          if (!exists) {
            this.uploadedFilesWithStatus.push({
              file: files[i],
              status: 'pending',
              progress: 0
            });
          }
        } else {
          alert(`Invalid file type: ${files[i].name}. Only .vtt and .srt files are allowed.`);
        }
      }
    }
    // Reset input value to allow re-uploading same file
    event.target.value = '';
  }

  onFileDrop(event: DragEvent): void {
    if (this.isUploading) return;

    event.preventDefault();
    this.isDragging = false;

    const files = event.dataTransfer?.files;
    if (files && files.length > 0) {
      for (let i = 0; i < files.length; i++) {
        if (this.isValidFileType(files[i])) {
          const exists = this.uploadedFilesWithStatus.some(f => f.file.name === files[i].name);
          if (!exists) {
            this.uploadedFilesWithStatus.push({
              file: files[i],
              status: 'pending',
              progress: 0
            });
          }
        } else {
          alert(`Invalid file type: ${files[i].name}. Only .vtt and .srt files are allowed.`);
        }
      }
    }
  }

  private isValidFileType(file: File): boolean {
    const fileName = file.name.toLowerCase();
    const fileExtension = fileName.substring(fileName.lastIndexOf('.'));
    return this.acceptedFileTypes.includes(fileExtension);
  }

  selectUploadFile(file: File): void {
    this.selectedUploadFile = file;
  }

  isUploadFileSelected(file: File): boolean {
    return this.selectedUploadFile === file;
  }

  removeIndividualFile(index: number): void {
    if (this.isUploading) return;
    this.uploadedFilesWithStatus.splice(index, 1);
  }

  async onUpload(): Promise<void> {
    if (this.uploadedFilesWithStatus.length > 0 && !this.isUploading) {
      this.isUploading = true;
      await this.uploadFilesSequentially();
      this.isUploading = false;
      // Stay on Upload tab - don't navigate to Generate
    }
  }

  async uploadFilesSequentially(): Promise<void> {
    for (let i = 0; i < this.uploadedFilesWithStatus.length; i++) {
      const fileWithStatus = this.uploadedFilesWithStatus[i];

      // Skip already uploaded files
      if (fileWithStatus.status === 'uploaded') {
        continue;
      }

      fileWithStatus.status = 'uploading';
      fileWithStatus.progress = 0;

      try {
        await this.uploadFileViaService(fileWithStatus);
        fileWithStatus.status = 'uploaded';
        fileWithStatus.progress = 100;
      } catch (error) {
        fileWithStatus.status = 'error';
        console.error(`Failed to upload ${fileWithStatus.file.name}:`, error);
      }
    }
  }

  private uploadFileViaService(fileWithStatus: FileWithStatus): Promise<void> {
    return new Promise((resolve, reject) => {
      const sub = this.uploadGenerateService.uploadFile(fileWithStatus.file).subscribe({
        next: (event: any) => {
          if (event.type === HttpEventType.UploadProgress) {
            if (event.total) {
              fileWithStatus.progress = Math.round((100 * event.loaded) / event.total);
            }
          } else if (event.type === HttpEventType.Response) {
            const response = event.body as UploadResponse;
            if (response.status === 'Success') {
              fileWithStatus.uploadedFileId = response.data.id;
              fileWithStatus.uploadedFileName = response.data.original_name;
              fileWithStatus.uploadedAt = response.data.created_at;
              console.log('Upload successful:', response);
              resolve();
            } else {
              reject(new Error('Upload failed with status: ' + response.status));
            }
          }
        },
        error: (error) => {
          console.error('Upload error:', error);
          reject(error);
        }
      });
      this.subscriptions.push(sub);
    });
  }

  onDragOver(event: DragEvent): void {
    if (this.isUploading) return;
    event.preventDefault();
    this.isDragging = true;
  }

  onDragLeave(event: DragEvent): void {
    event.preventDefault();
    this.isDragging = false;
  }

  // Generate tab drag and drop
  onGenerateDragOver(event: DragEvent): void {
    event.preventDefault();
    this.isDraggingGenerate = true;
  }

  onGenerateDragLeave(event: DragEvent): void {
    event.preventDefault();
    this.isDraggingGenerate = false;
  }

  onGenerateFileDrop(event: DragEvent): void {
    event.preventDefault();
    this.isDraggingGenerate = false;
    // Handle file drop from history section
    // This will be implemented when you integrate with actual history
  }

  useHistoryFile(): void {
    // Simulate selecting a file from history
    this.selectedGenerateFile = {
      name: 'lecture_audio_2024.mp3',
      size: 15728640, // 15 MB in bytes
      id: 'hist_12345'
    };
  }

  removeGenerateFile(): void {
    this.selectedGenerateFile = null;
  }

  handleGenerate(): void {
    if (this.selectedGenerateFile) {
      this.startProcessing(this.selectedGenerateFile.name);

      const request: GenerateRequest = {
        fileId: this.selectedGenerateFile.id,
        fileName: this.selectedGenerateFile.name,
        prompts: this.optionalPrompts,
        mode: 'new'
      };

      this.generateAnalysis(request);
    }
  }

  private generateAnalysis(request: GenerateRequest): void {
    const sub = this.generateService.generateAnalysis(request).subscribe({
      next: (response) => {
        console.log('Generation successful:', response);
        this.onGenerate.emit({
          file: request,
          prompts: this.optionalPrompts,
          mode: 'new'
        });

        setTimeout(() => {
          this.completeProcessing();
        }, 500);
      },
      error: (error) => {
        console.error('Generation error:', error);
        this.isProcessing = false;
      }
    });
    this.subscriptions.push(sub);
  }

  startProcessing(fileName: string): void {
    this.isProcessing = true;
    this.processingProgress = 0;
    this.processingFileName = fileName;

    const interval = setInterval(() => {
      this.processingProgress += 5;

      if (this.processingProgress >= 100) {
        clearInterval(interval);
        this.processingProgress = 100;
      }
    }, 1000);
  }

  completeProcessing(): void {
    this.isProcessing = false;
    this.processingProgress = 0;
    this.selectedGenerateFile = null;
    this.optionalPrompts = '';
  }

  onReset(): void {
    if (this.isUploading) return;
    this.uploadedFilesWithStatus = [];
    this.selectedUploadFile = null;
    this.optionalPrompts = '';
    this.isDragging = false;
  }

  onCancel(): void {
    this.selectedGenerateFile = null;
    this.optionalPrompts = '';
  }

  getStatusBadgeClass(status: string): string {
    return `status-badge status-${status}`;
  }

  getStatusText(status: string): string {
    const statusMap: { [key: string]: string } = {
      'pending': 'Pending',
      'uploading': 'Uploading',
      'uploaded': 'Uploaded',
      'error': 'Error'
    };
    return statusMap[status] || status;
  }

  switchToTab(tab: 'upload' | 'generate'): void {
    if (this.isUploading && tab === 'generate') return;

    // Reset all data when switching tabs
    this.uploadedFilesWithStatus = [];
    this.selectedUploadFile = null;
    this.selectedGenerateFile = null;
    this.optionalPrompts = '';
    this.isDragging = false;
    this.isDraggingGenerate = false;
    this.isProcessing = false;
    this.processingProgress = 0;
    this.processingFileName = '';

    this.currentTab = tab;
  }

  shouldShowStatusBadge(fileWithStatus: FileWithStatus): boolean {
    return fileWithStatus.status !== 'pending';
  }
}











<div class="panel">
    <div class="panel-header">
        <h3 class="panel-title">Upload & Generate</h3>
    </div>
    <div class="panel-content">
        <!-- Mode Selection Header -->
        <div class="mode-selection-header">
            <div class="mode-header-content">
                <div class="mode-header-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                </div>
                <div class="mode-header-text">
                    <h4 class="mode-header-title">Choose Your Workflow</h4>
                    <p class="mode-header-subtitle">Select between uploading new files or generating from history</p>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="mode-toggle-tabs">
            <button class="mode-tab" [class.active]="currentTab === 'upload'" (click)="switchToTab('upload')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
                </svg>
                <span>Upload</span>
            </button>
            <button class="mode-tab" [class.active]="currentTab === 'generate'" (click)="switchToTab('generate')"
                [disabled]="isUploading">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
                </svg>
                <span>Generate</span>
            </button>
        </div>

        <!-- UPLOAD TAB -->
        <div class="upload-content-wrapper" *ngIf="currentTab === 'upload'">
            <div class="upload-fields-container">
                <!-- File Upload Area -->
                <div class="upload-area-wrapper">
                    <label class="upload-area-label">Lecture / Related file or folder</label>
                    <div class="file-upload-zone" [class.drag-over]="isDragging" [class.disabled]="isUploading"
                        (drop)="onFileDrop($event)" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)">
                        <div class="upload-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
                            </svg>
                        </div>
                        <h3 class="upload-title">Drop your audio file here</h3>
                        <p class="upload-subtitle">or</p>
                        <div class="upload-btn-wrapper">
                            <button class="browse-btn" (click)="fileInput.click()" [disabled]="isUploading">Browse
                                Files</button>
                        </div>
                        <!-- Replace the existing file input line with: -->
                        <input #fileInput type="file" class="file-input-hidden" multiple accept=".vtt,.srt"
                            (change)="onFileSelected($event)" [disabled]="isUploading">

                        <!-- Update the upload info text: -->
                        <p class="upload-info">Supported formats: VTT, SRT</p>
                    </div>
                </div>

                <!-- Uploaded Files List -->
                <div class="selected-files-list" *ngIf="uploadedFilesWithStatus.length > 0">
                    <div class="selected-files-header">
                        <span class="selected-files-count">{{ uploadedFilesWithStatus.length }} file(s) selected</span>
                    </div>
                    <div class="selected-file" *ngFor="let fileWithStatus of uploadedFilesWithStatus; let i = index">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                        </svg>
                        <span class="file-name-display">{{ fileWithStatus.file.name }}</span>
                        <span class="file-size">({{ (fileWithStatus.file.size / 1024 / 1024).toFixed(2) }} MB)</span>
                        <span *ngIf="shouldShowStatusBadge(fileWithStatus)"
                            [className]="getStatusBadgeClass(fileWithStatus.status)">
                            {{ getStatusText(fileWithStatus.status) }}
                        </span>
                        <button class="remove-file-btn" (click)="removeIndividualFile(i)"
                            [disabled]="fileWithStatus.status === 'uploading' || isUploading">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Upload Action Buttons -->
            <div class="action-buttons">
                <button class="generate-btn" [disabled]="uploadedFilesWithStatus.length === 0 || isUploading"
                    (click)="onUpload()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
                    </svg>
                    {{ isUploading ? 'Uploading...' : 'Upload' }}
                </button>
                <button class="reset-btn" (click)="onReset()" [disabled]="isUploading" *ngIf="!isUploading">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
                    </svg>
                    Reset
                </button>
            </div>
        </div>

        <!-- GENERATE TAB -->
        <div class="upload-content-wrapper" *ngIf="currentTab === 'generate'">
            <div class="upload-fields-container">
                <!-- File Selection Area -->
                <div class="generate-file-selection">
                    <div class="selection-header">
                        <label class="summary-label">Select One File to Generate</label>
                        <button class="use-history-btn" (click)="useHistoryFile()" [disabled]="isProcessing">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Use History File
                        </button>
                    </div>

                    <!-- Drag and Drop Area (Empty State) -->
                    <div class="generate-drop-zone" *ngIf="!selectedGenerateFile" [class.drag-over]="isDraggingGenerate"
                        (drop)="onGenerateFileDrop($event)" (dragover)="onGenerateDragOver($event)"
                        (dragleave)="onGenerateDragLeave($event)">
                        <div class="drop-zone-content">
                            <div class="pointing-hand">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59" />
                                </svg>
                            </div>
                            <h3 class="drop-zone-title">Drag & Drop File Here</h3>
                            <p class="drop-zone-subtitle">or use the "Use History File" button above</p>
                            <div class="drop-zone-hint">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                                </svg>
                                <span>Select a file from the History section to proceed</span>
                            </div>
                        </div>
                    </div>

                    <!-- Selected File Display -->
                    <div class="selected-generate-file" *ngIf="selectedGenerateFile">
                        <div class="selected-file-card">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="file-icon">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                            </svg>
                            <div class="file-info">
                                <span class="file-name">{{ selectedGenerateFile.name }}</span>
                                <span class="file-size">{{ (selectedGenerateFile.size / 1024 / 1024).toFixed(2) }}
                                    MB</span>
                            </div>
                            <button class="remove-file-btn" (click)="removeGenerateFile()" [disabled]="isProcessing">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Optional Prompts -->
                <div class="prompts-area">
                    <label class="prompts-label">Optional Prompts (Notes)</label>
                    <textarea class="prompts-textarea" [(ngModel)]="optionalPrompts" name="prompts"
                        placeholder="Enter any specific instructions or notes for the AI analysis...&#10;&#10;Example:&#10;- Focus on extracting key topics&#10;- Identify speakers&#10;- Summarize main points"
                        rows="8"></textarea>
                    <p class="prompts-hint">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                        </svg>
                        Add custom instructions to guide the AI analysis
                    </p>
                </div>

                <!-- Processing Progress Bar -->
                <div class="processing-container" *ngIf="isProcessing">
                    <div class="processing-header">
                        <div class="processing-icon-wrapper">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="processing-icon">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
                            </svg>
                        </div>
                        <div class="processing-info">
                            <h4 class="processing-title">Processing Your File</h4>
                            <p class="processing-filename">{{ processingFileName }}</p>
                        </div>
                        <span class="processing-percentage">{{ processingProgress }}%</span>
                    </div>

                    <div class="progress-bar-container">
                        <div class="progress-bar-track">
                            <div class="progress-bar-fill" [style.width.%]="processingProgress">
                                <div class="progress-bar-shimmer"></div>
                            </div>
                        </div>
                    </div>

                    <p class="processing-message">
                        Analyzing audio content, extracting insights, and generating results...
                    </p>
                </div>
            </div>

            <!-- Generate Action Buttons -->
            <div class="action-buttons">
                <button class="generate-btn" [disabled]="!selectedGenerateFile || isProcessing"
                    (click)="handleGenerate()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
                    </svg>
                    {{ isProcessing ? 'Processing...' : 'Generate' }}
                </button>
                <button class="reset-btn" [disabled]="isProcessing" (click)="onCancel()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                    Cancel
                </button>
            </div>
        </div>
    </div>
</div>












/* Panel Component Styles */
:host {
    display: flex;
    flex: 1;
    min-width: 0;
    min-height: 0;
}

.panel {
    flex: 1;
    background-color: var(--bg-color);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    min-width: 0;
    min-height: 0;
}

.panel-header {
    position: sticky;
    top: 0;
    z-index: 10;
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
    flex-shrink: 0;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.panel-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    position: relative;
    padding-left: 16px;
}

.panel-title::before {
    content: '';
    position: absolute;
    left: 0;
    width: 3px;
    height: 20px;
    background: linear-gradient(180deg, var(--primary-color), #a78bfa);
    border-radius: 2px;
}

.panel-content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    overflow-x: hidden;
    color: var(--text-color);
    min-height: 0;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Scrollbar Styling */
.panel-content::-webkit-scrollbar {
    width: 6px;
}

.panel-content::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.panel-content::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.panel-content::-webkit-scrollbar-thumb:hover {
    background: var(--primary-color);
}

/* Mode Selection Header */
.mode-selection-header {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 12px;
    padding: 16px 20px;
    flex-shrink: 0;
}

.mode-header-content {
    display: flex;
    align-items: center;
    gap: 14px;
}

.mode-header-icon {
    width: 44px;
    height: 44px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.mode-header-icon svg {
    width: 24px;
    height: 24px;
    stroke: white;
}

.mode-header-text {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.mode-header-title {
    font-size: 15px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    letter-spacing: -0.01em;
}

.mode-header-subtitle {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.7;
    margin: 0;
    line-height: 1.4;
}

/* Tab Navigation */
.mode-toggle-tabs {
    display: flex;
    gap: 8px;
    padding: 0;
    flex-shrink: 0;
}

.mode-tab {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    background-color: var(--footer-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0.6;
}

.mode-tab svg {
    width: 18px;
    height: 18px;
    stroke: var(--text-color);
    transition: all 0.3s ease;
}

.mode-tab:hover:not(:disabled) {
    opacity: 1;
    border-color: var(--primary-color);
    background-color: var(--bg-color);
}

.mode-tab.active {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
    color: white;
    opacity: 1;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.mode-tab.active svg {
    stroke: white;
}

.mode-tab:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

/* Upload Content Wrapper */
.upload-content-wrapper {
    display: flex;
    flex-direction: column;
    gap: 20px;
    flex: 1;
}

.upload-fields-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    flex: 1;
}

/* File Upload Area */
.upload-area-wrapper {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.upload-area-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.upload-area-label::before {
    content: 'üìÅ';
    font-size: 15px;
}

.file-upload-zone {
    border: 2px dashed var(--border-color);
    border-radius: 12px;
    padding: 30px 24px;
    text-align: center;
    background-color: var(--bg-color);
    transition: all 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.file-upload-zone.drag-over {
    border-color: var(--primary-color);
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
}

.file-upload-zone:hover:not(.disabled) {
    border-color: var(--primary-color);
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.02), rgba(167, 139, 250, 0.02));
}

.file-upload-zone.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

.upload-icon {
    width: 48px;
    height: 48px;
    margin: 0 auto 12px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.upload-icon svg {
    width: 24px;
    height: 24px;
    stroke: var(--primary-color);
}

.upload-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color);
    margin: 0 0 6px 0;
}

.upload-subtitle {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.5;
    margin: 0 0 12px 0;
}

.upload-btn-wrapper {
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 1;
}

.browse-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px 20px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.2);
}

.browse-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.browse-btn:active:not(:disabled) {
    transform: translateY(0);
}

.browse-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.file-input-hidden {
    display: none;
}

.upload-info {
    font-size: 11px;
    color: var(--text-color);
    opacity: 0.5;
    margin: 12px 0 0 0;
}

/* Selected Files List */
.selected-files-list {
    padding: 16px;
    background-color: var(--footer-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

.selected-files-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border-color);
}

.selected-files-count {
    font-size: 13px;
    font-weight: 600;
    color: var(--primary-color);
}

.selected-file {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 12px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-bottom: 8px;
    transition: all 0.2s ease;
}

.selected-file:last-child {
    margin-bottom: 0;
}

.selected-file svg {
    width: 20px;
    height: 20px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

.file-name-display {
    flex: 1;
    font-size: 13px;
    color: var(--text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.file-size {
    font-size: 11px;
    color: var(--text-color);
    opacity: 0.6;
    flex-shrink: 0;
}

.remove-file-btn {
    width: 24px;
    height: 24px;
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.remove-file-btn:hover:not(:disabled) {
    background-color: rgba(239, 68, 68, 0.1);
}

.remove-file-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.remove-file-btn svg {
    width: 16px;
    height: 16px;
    stroke: #ef4444;
}

/* Status Badge */
.status-badge {
    padding: 2px 6px;
    border-radius: 8px;
    font-size: 9px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.2px;
    flex-shrink: 0;
    transition: all 0.3s ease;
    line-height: 1.2;
}

.status-pending {
    background-color: rgba(156, 163, 175, 0.15);
    color: #6b7280;
    border: 1px solid rgba(156, 163, 175, 0.3);
}

.status-uploading {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(37, 99, 235, 0.15));
    color: #3b82f6;
    border: 1px solid rgba(59, 130, 246, 0.4);
    animation: pulse 1.5s ease-in-out infinite;
}

.status-uploaded {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.15));
    color: #10b981;
    border: 1px solid rgba(16, 185, 129, 0.4);
}

.status-error {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15));
    color: #ef4444;
    border: 1px solid rgba(239, 68, 68, 0.4);
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.6;
    }
}

/* Generate Tab */
.generate-file-selection {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.summary-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.summary-label::before {
    content: 'üéØ';
    font-size: 15px;
}

.selection-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

.use-history-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 6px rgba(139, 92, 246, 0.2);
    white-space: nowrap;
}

.use-history-btn svg {
    width: 16px;
    height: 16px;
}

.use-history-btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(139, 92, 246, 0.3);
}

.use-history-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Generate Drop Zone */
.generate-drop-zone {
    border: 2px dashed var(--border-color);
    border-radius: 12px;
    padding: 48px 24px;
    text-align: center;
    background-color: var(--bg-color);
    transition: all 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 280px;
}

.generate-drop-zone.drag-over {
    border-color: var(--primary-color);
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    transform: scale(1.01);
}

.drop-zone-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
}

.pointing-hand {
    width: 72px;
    height: 72px;
    margin: 0 auto;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(167, 139, 250, 0.15));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pointRight 2s ease-in-out infinite;
}

@keyframes pointRight {

    0%,
    100% {
        transform: translateX(0);
    }

    50% {
        transform: translateX(10px);
    }
}

.pointing-hand svg {
    width: 36px;
    height: 36px;
    stroke: var(--primary-color);
    transform: rotate(-45deg);
}

.drop-zone-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
}

.drop-zone-subtitle {
    font-size: 14px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

.drop-zone-hint {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 8px;
    margin-top: 8px;
}

.drop-zone-hint svg {
    width: 20px;
    height: 20px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

.drop-zone-hint span {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.8;
}

/* Selected Generate File */
.selected-generate-file {
    padding: 16px;
    background-color: var(--footer-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
}

.selected-file-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    border: 1px solid var(--primary-color);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.15);
}

.selected-file-card .file-icon {
    width: 24px;
    height: 24px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

.selected-file-card .file-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 0;
}

.selected-file-card .file-info .file-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.selected-file-card .file-info .file-size {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.6;
}

/* Optional Prompts */
.prompts-area {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.prompts-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.prompts-label::before {
    content: '‚úçÔ∏è';
    font-size: 15px;
}

.prompts-textarea {
    width: 100%;
    padding: 12px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 13px;
    color: var(--text-color);
    resize: vertical;
    font-family: inherit;
    transition: all 0.2s ease;
}

.prompts-textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.prompts-textarea::placeholder {
    color: var(--text-color);
    opacity: 0.5;
}

.prompts-hint {
    font-size: 11px;
    color: var(--text-color);
    opacity: 0.6;
    display: flex;
    align-items: center;
    gap: 6px;
    margin: 0;
}

.prompts-hint svg {
    width: 14px;
    height: 14px;
    stroke: var(--primary-color);
}

/* Processing Container */
.processing-container {
    display: flex;
    flex-direction: column;
    gap: 16px;
    padding: 20px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 12px;
}

.processing-header {
    display: flex;
    align-items: center;
    gap: 12px;
}

.processing-icon-wrapper {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(167, 139, 250, 0.15));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.processing-icon {
    width: 24px;
    height: 24px;
    stroke: var(--primary-color);
    animation: sparkle 2s ease-in-out infinite;
}

@keyframes sparkle {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.7;
        transform: scale(1.1);
    }
}

.processing-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.processing-title {
    font-size: 14px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
}

.processing-filename {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.7;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.processing-percentage {
    font-size: 16px;
    font-weight: 700;
    color: var(--primary-color);
    flex-shrink: 0;
}

.progress-bar-container {
    width: 100%;
}

.progress-bar-track {
    width: 100%;
    height: 8px;
    background-color: rgba(139, 92, 246, 0.1);
    border-radius: 4px;
    overflow: hidden;
}

.progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), #a78bfa, var(--primary-color));
    background-size: 200% 100%;
    border-radius: 4px;
    transition: width 0.3s ease;
    position: relative;
    animation: gradientShift 2s ease infinite;
}

@keyframes gradientShift {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

.progress-bar-shimmer {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }

    100% {
        left: 100%;
    }
}

.processing-message {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.7;
    margin: 0;
    text-align: center;
}

/* Action Buttons */
.action-buttons {
    display: flex;
    gap: 12px;
    padding-top: 8px;
    flex-shrink: 0;
}

.generate-btn,
.reset-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.generate-btn {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    color: white;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.2);
}

.generate-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.generate-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.generate-btn svg,
.reset-btn svg {
    width: 16px;
    height: 16px;
}

.reset-btn {
    background-color: var(--footer-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
}

.reset-btn:hover:not(:disabled) {
    background-color: var(--bg-color);
    border-color: var(--primary-color);
}

.reset-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}


















/* Panel Component Styles */
:host {
    display: flex;
    flex: 1;
    min-width: 0;
    min-height: 0;
}

.panel {
    flex: 1;
    background-color: var(--bg-color);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    min-width: 0;
    min-height: 0;
}

.panel-header {
    position: sticky;
    top: 0;
    z-index: 10;
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
    flex-shrink: 0;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
}

.panel-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    position: relative;
    padding-left: 16px;
}

.panel-title::before {
    content: '';
    position: absolute;
    left: 0;
    width: 3px;
    height: 20px;
    background: linear-gradient(180deg, var(--primary-color), #a78bfa);
    border-radius: 2px;
}

/* Date Range */
.date-range {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 6px;
    flex-shrink: 0;
}

.date-icon {
    width: 16px;
    height: 16px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

.arrow-icon {
    width: 14px;
    height: 14px;
    stroke: var(--primary-color);
    opacity: 0.6;
    flex-shrink: 0;
}

.date-text {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-color);
    white-space: nowrap;
    letter-spacing: 0.02em;
}

.panel-content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    overflow-x: hidden;
    color: var(--text-color);
    min-height: 0;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* Scrollbar Styling */
.panel-content::-webkit-scrollbar {
    width: 6px;
}

.panel-content::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.panel-content::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.panel-content::-webkit-scrollbar-thumb:hover {
    background: var(--primary-color);
}

/* Content Section Header */
.content-section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border-left: 3px solid var(--primary-color);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.content-section-header:hover {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
}

.content-header-icon {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.content-header-icon svg {
    width: 18px;
    height: 18px;
    stroke: var(--primary-color);
    opacity: 0.8;
}

.content-header-title {
    font-size: 13px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    flex: 1;
}

.content-count {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-color);
    opacity: 0.6;
    padding: 4px 10px;
    background-color: rgba(139, 92, 246, 0.1);
    border-radius: 12px;
}

/* Collapse Toggle Button */
.collapse-toggle-btn {
    width: 24px;
    height: 24px;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.collapse-toggle-btn svg {
    width: 18px;
    height: 18px;
    stroke: var(--primary-color);
    transition: transform 0.3s ease;
}

.collapse-toggle-btn.collapsed svg {
    transform: rotate(-90deg);
}

.collapse-toggle-btn:hover svg {
    stroke: #a78bfa;
}

/* History Content */
.history-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* No Results */
.no-results {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 48px 24px;
    text-align: center;
}

.no-results svg {
    width: 48px;
    height: 48px;
    stroke: var(--text-color);
    opacity: 0.3;
    margin-bottom: 16px;
}

.no-results p {
    font-size: 14px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

/* History Item */
.history-item {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 14px 16px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.history-item:hover {
    border-color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);
}

.history-item.selected {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.12), rgba(167, 139, 250, 0.12));
    border-color: var(--primary-color);
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.2);
    transform: translateX(4px);
}

.history-item-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s ease;
}

.history-item.selected .history-item-icon {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
}

.history-item-icon svg {
    width: 20px;
    height: 20px;
    stroke: var(--primary-color);
    transition: stroke 0.2s ease;
}

.history-item.selected .history-item-icon svg {
    stroke: white;
}

.history-item-details {
    flex: 1;
    min-width: 0;
}

.history-item-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color);
    margin: 0 0 4px 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: color 0.2s ease, font-weight 0.2s ease;
}

.history-item.selected .history-item-name {
    color: var(--primary-color);
    font-weight: 700;
}

.history-item-date {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

.history-item-checkmark {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    animation: scaleIn 0.3s ease;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.history-item-checkmark svg {
    width: 18px;
    height: 18px;
    stroke: white;
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.5);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

.history-item-action {
    width: 32px;
    height: 32px;
    background-color: transparent;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.history-item-action:hover {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

.history-item-action svg {
    width: 16px;
    height: 16px;
    stroke: var(--text-color);
    transition: stroke 0.2s ease;
}

.history-item-action:hover svg {
    stroke: white;
}












<div class="panel">
    <div class="panel-header">
        <h3 class="panel-title">History</h3>
        <div class="date-range">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="date-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
            </svg>
            <span class="date-text">{{ startDate }}</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                stroke="currentColor" class="arrow-icon">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="date-icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
            </svg>
            <span class="date-text">{{ endDate }}</span>
        </div>
    </div>
    <div class="panel-content">
        <!-- Pending Files Section -->
        <div class="content-section-header" (click)="togglePendingSection()">
            <div class="content-header-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
            <h3 class="content-header-title">Pending Results</h3>
            <span class="content-count">{{ pendingFiles.length }} files</span>
            <button class="collapse-toggle-btn" [class.collapsed]="!isPendingExpanded">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
            </button>
        </div>

        <div class="history-content" *ngIf="isPendingExpanded">
            <div class="no-results" *ngIf="pendingFiles.length === 0">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <p>No pending files</p>
            </div>

            <div class="history-item" *ngFor="let item of pendingFiles"
                [class.selected]="selectedHistoryItem?.id === item.id" (click)="onHistoryItemClick(item.id)">
                <div class="history-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                    </svg>
                </div>
                <div class="history-item-details">
                    <h4 class="history-item-name">{{ item.name }}</h4>
                    <p class="history-item-date">{{ item.displayDate }}</p>
                </div>
                <div class="history-item-checkmark" *ngIf="selectedHistoryItem?.id === item.id">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                    </svg>
                </div>
                <button class="history-item-action" *ngIf="selectedHistoryItem?.id !== item.id"
                    (click)="$event.stopPropagation()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Completed Files Section -->
        <div class="content-section-header" (click)="toggleCompletedSection()">
            <div class="content-header-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </div>
            <h3 class="content-header-title">Completed Results</h3>
            <span class="content-count">{{ completedFiles.length }} files</span>
            <button class="collapse-toggle-btn" [class.collapsed]="!isCompletedExpanded">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
            </button>
        </div>

        <div class="history-content" *ngIf="isCompletedExpanded">
            <div class="no-results" *ngIf="completedFiles.length === 0">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
                </svg>
                <p>No completed files</p>
            </div>

            <div class="history-item" *ngFor="let item of completedFiles"
                [class.selected]="selectedHistoryItem?.id === item.id" (click)="onHistoryItemClick(item.id)">
                <div class="history-item-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                    </svg>
                </div>
                <div class="history-item-details">
                    <h4 class="history-item-name">{{ item.name }}</h4>
                    <p class="history-item-date">{{ item.displayDate }}</p>
                </div>
                <div class="history-item-checkmark" *ngIf="selectedHistoryItem?.id === item.id">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                    </svg>
                </div>
                <button class="history-item-action" *ngIf="selectedHistoryItem?.id !== item.id"
                    (click)="$event.stopPropagation()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>













import { Component, EventEmitter, Output, OnInit } from '@angular/core';

interface HistoryItem {
  id: string;
  name: string;
  displayDate: string;
  date: Date;
  hasResult: boolean;
}

@Component({
  selector: 'app-history',
  templateUrl: './history.component.html',
  styleUrls: ['./history.component.css']
})
export class HistoryComponent implements OnInit {
  @Output() onItemSelect = new EventEmitter<string>();

  selectedHistoryItem: HistoryItem | null = null;
  isPendingExpanded: boolean = true;
  isCompletedExpanded: boolean = true;

  startDate: string = '';
  endDate: string = '';

  historyItems: HistoryItem[] = [
    {
      id: 'item1',
      name: 'Machine Learning Lecture 01.mp3',
      displayDate: 'Created on January 28, 2026 at 2:30 PM',
      date: new Date('2026-01-28'),
      hasResult: false
    },
    {
      id: 'item2',
      name: 'Deep Learning Fundamentals.wav',
      displayDate: 'Created on January 27, 2026 at 10:15 AM',
      date: new Date('2026-01-27'),
      hasResult: true
    },
    {
      id: 'item3',
      name: 'Neural Networks Introduction.m4a',
      displayDate: 'Created on January 26, 2026 at 4:45 PM',
      date: new Date('2026-01-26'),
      hasResult: false
    },
    {
      id: 'item4',
      name: 'AI Ethics Discussion.mp3',
      displayDate: 'Created on January 25, 2026 at 3:20 PM',
      date: new Date('2026-01-25'),
      hasResult: true
    }
  ];

  ngOnInit(): void {
    this.calculateDateRange();
  }

  get pendingFiles(): HistoryItem[] {
    return this.historyItems.filter(item => !item.hasResult);
  }

  get completedFiles(): HistoryItem[] {
    return this.historyItems.filter(item => item.hasResult);
  }

  onHistoryItemClick(itemId: string): void {
    const item = this.historyItems.find(i => i.id === itemId);
    if (item) {
      this.selectedHistoryItem = item;
      this.onItemSelect.emit(itemId);
    }
  }

  togglePendingSection(): void {
    this.isPendingExpanded = !this.isPendingExpanded;
  }

  toggleCompletedSection(): void {
    this.isCompletedExpanded = !this.isCompletedExpanded;
  }

  clearSelection(): void {
    this.selectedHistoryItem = null;
  }

  addHistoryItem(item: HistoryItem): void {
    this.historyItems.unshift(item);
    this.calculateDateRange();
  }

  private calculateDateRange(): void {
    if (this.historyItems.length === 0) {
      this.startDate = this.formatDate(new Date());
      this.endDate = this.formatDate(new Date());
      return;
    }

    // Find the earliest and latest dates
    const dates = this.historyItems.map(item => item.date.getTime());
    const minDate = new Date(Math.min(...dates));
    const maxDate = new Date(Math.max(...dates));

    this.startDate = this.formatDate(minDate);
    this.endDate = this.formatDate(maxDate);
  }

  private formatDate(date: Date): string {
    const day = String(date.getDate()).padStart(2, '0');
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const year = date.getFullYear();
    return `${day}-${month}-${year}`;
  }
}
















/* Panel Component Styles */
:host {
    display: flex;
    flex: 1;
    min-width: 0;
    min-height: 0;
}

.panel {
    flex: 1;
    background-color: var(--bg-color);
    display: flex;
    flex-direction: column;
    min-width: 0;
    min-height: 0;
}

.panel-header {
    position: sticky;
    top: 0;
    z-index: 10;
    padding: 20px;
    border-bottom: 1px solid var(--border-color);
    flex-shrink: 0;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.panel-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    position: relative;
    padding-left: 16px;
}

.panel-title::before {
    content: '';
    position: absolute;
    left: 0;
    width: 3px;
    height: 20px;
    background: linear-gradient(180deg, var(--primary-color), #a78bfa);
    border-radius: 2px;
}

.panel-content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    overflow-x: hidden;
    color: var(--text-color);
    min-height: 0;
}

/* Scrollbar Styling */
.panel-content::-webkit-scrollbar {
    width: 6px;
}

.panel-content::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.panel-content::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.panel-content::-webkit-scrollbar-thumb:hover {
    background: var(--primary-color);
}

/* Empty State */
.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px 40px;
    text-align: center;
    min-height: 400px;
}

.empty-state-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 24px;
}

.empty-state-icon svg {
    width: 40px;
    height: 40px;
    stroke: var(--primary-color);
    opacity: 0.6;
}

.empty-state-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0 0 12px 0;
}

.empty-state-description {
    font-size: 14px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
    max-width: 400px;
}

/* Results Container */
.results-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Result Block */
.result-block {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s ease;
}

.result-block:hover {
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.1);
    border-color: rgba(139, 92, 246, 0.3);
}

/* Result Block Header */
.result-block-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border-bottom: 1px solid var(--border-color);
}

.result-header-left {
    display: flex;
    align-items: center;
    gap: 12px;
}

.result-header-icon {
    width: 36px;
    height: 36px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.result-header-icon svg {
    width: 20px;
    height: 20px;
    stroke: white;
}

.result-header-title {
    font-size: 15px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
}

.result-header-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

.result-action-icon-btn {
    width: 32px;
    height: 32px;
    background-color: transparent;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.result-action-icon-btn:hover {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.result-action-icon-btn svg {
    width: 16px;
    height: 16px;
    stroke: var(--text-color);
    transition: stroke 0.2s ease;
}

.result-action-icon-btn:hover svg {
    stroke: white;
}

/* Result Block Content */
.result-block-content {
    padding: 20px;
}

.result-text {
    font-size: 14px;
    line-height: 1.7;
    color: var(--text-color);
    margin: 0;
    white-space: pre-wrap;
}

/* Keywords Container */
.keywords-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.keyword-badge {
    display: inline-flex;
    align-items: center;
    padding: 6px 14px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    color: var(--primary-color);
    transition: all 0.2s ease;
}

.keyword-badge:hover {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

/* FAQ Container */
.faq-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.faq-item {
    padding: 16px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.03), rgba(167, 139, 250, 0.03));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 10px;
    transition: all 0.2s ease;
}

.faq-item:hover {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    border-color: rgba(139, 92, 246, 0.4);
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);
}

.faq-question {
    font-size: 14px;
    font-weight: 700;
    color: var(--primary-color);
    margin: 0 0 8px 0;
    display: flex;
    align-items: flex-start;
    gap: 8px;
}

.faq-question::before {
    content: 'Q:';
    font-weight: 800;
    flex-shrink: 0;
}

.faq-answer {
    font-size: 13px;
    line-height: 1.6;
    color: var(--text-color);
    margin: 0;
    padding-left: 24px;
    opacity: 0.9;
}

.faq-answer::before {
    content: 'A:';
    font-weight: 700;
    color: var(--primary-color);
    margin-right: 8px;
    opacity: 0.7;
}











<div class="panel">
    <div class="panel-header">
        <h3 class="panel-title">Workspace Result</h3>
    </div>
    <div class="panel-content">
        <!-- Empty State -->
        <div class="empty-state" *ngIf="!hasResults">
            <div class="empty-state-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                </svg>
            </div>
            <h3 class="empty-state-title">No Results Yet</h3>
            <p class="empty-state-description">Upload and generate content to see your analysis results here</p>
        </div>

        <!-- Results Content -->
        <div class="results-container" *ngIf="hasResults">
            <!-- Summary Block -->
            <div class="result-block">
                <div class="result-block-header">
                    <div class="result-header-left">
                        <div class="result-header-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                            </svg>
                        </div>
                        <h3 class="result-header-title">Summary</h3>
                    </div>
                    <div class="result-header-actions">
                        <button class="result-action-icon-btn" title="Expand" (click)="expandSummary()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
                            </svg>
                        </button>
                        <button class="result-action-icon-btn" title="Copy" (click)="copySummary()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" />
                            </svg>
                        </button>
                        <button class="result-action-icon-btn" title="Download" (click)="downloadSummary()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="result-block-content">
                    <p class="result-text">{{ summaryContent }}</p>
                </div>
            </div>

            <!-- Keywords Block -->
            <div class="result-block">
                <div class="result-block-header">
                    <div class="result-header-left">
                        <div class="result-header-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
                            </svg>
                        </div>
                        <h3 class="result-header-title">Keywords</h3>
                    </div>
                    <div class="result-header-actions">
                        <button class="result-action-icon-btn" title="Expand" (click)="expandKeywords()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
                            </svg>
                        </button>
                        <button class="result-action-icon-btn" title="Copy" (click)="copyKeywords()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" />
                            </svg>
                        </button>
                        <button class="result-action-icon-btn" title="Download" (click)="downloadKeywords()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="result-block-content">
                    <div class="keywords-container">
                        <span class="keyword-badge" *ngFor="let keyword of keywords">{{ keyword }}</span>
                    </div>
                </div>
            </div>

            <!-- FAQ Block -->
            <div class="result-block">
                <div class="result-block-header">
                    <div class="result-header-left">
                        <div class="result-header-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />
                            </svg>
                        </div>
                        <h3 class="result-header-title">FAQ</h3>
                    </div>
                    <div class="result-header-actions">
                        <button class="result-action-icon-btn" title="Expand" (click)="expandFaq()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" />
                            </svg>
                        </button>
                        <button class="result-action-icon-btn" title="Copy" (click)="copyFaq()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" />
                            </svg>
                        </button>
                        <button class="result-action-icon-btn" title="Download" (click)="downloadFaq()">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="result-block-content">
                    <div class="faq-container">
                        <div class="faq-item" *ngFor="let faq of faqs">
                            <h4 class="faq-question">{{ faq.question }}</h4>
                            <p class="faq-answer">{{ faq.answer }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

















import { Component } from '@angular/core';

interface FaqItem {
  question: string;
  answer: string;
}

@Component({
  selector: 'app-workspace',
  templateUrl: './workspace.component.html',
  styleUrls: ['./workspace.component.css']
})
export class WorkspaceComponent {
  hasResults: boolean = true; // Set to false to show empty state

  // Summary Content
  summaryContent: string = `This lecture covers the fundamental concepts of machine learning, including supervised and unsupervised learning approaches. The instructor discusses various algorithms such as linear regression, decision trees, and neural networks. Key topics include data preprocessing, feature engineering, model training, and evaluation metrics. The session also explores real-world applications in image recognition, natural language processing, and predictive analytics.`;

  // Keywords
  keywords: string[] = [
    'Machine Learning',
    'Supervised Learning',
    'Unsupervised Learning',
    'Neural Networks',
    'Data Preprocessing',
    'Feature Engineering',
    'Model Training',
    'Evaluation Metrics',
    'Linear Regression',
    'Decision Trees',
    'Image Recognition',
    'NLP'
  ];

  // FAQ Items
  faqs: FaqItem[] = [
    {
      question: 'What is the difference between supervised and unsupervised learning?',
      answer: 'Supervised learning uses labeled data where the algorithm learns from input-output pairs, while unsupervised learning works with unlabeled data to find patterns and structures without predefined outputs.'
    },
    {
      question: 'What are the main steps in the machine learning workflow?',
      answer: 'The main steps include data collection, data preprocessing, feature engineering, model selection, training, evaluation, hyperparameter tuning, and deployment. Each step is crucial for building an effective ML model.'
    },
    {
      question: 'How do you evaluate a machine learning model?',
      answer: 'Model evaluation involves using metrics like accuracy, precision, recall, F1-score for classification tasks, and MSE, RMSE, R¬≤ for regression tasks. Cross-validation and train-test splits help assess model performance on unseen data.'
    },
    {
      question: 'What is feature engineering and why is it important?',
      answer: 'Feature engineering is the process of creating, transforming, and selecting relevant features from raw data. It\'s important because well-engineered features can significantly improve model performance and reduce training time.'
    }
  ];

  constructor() { }

  // Summary Actions
  expandSummary(): void {
    console.log('Expanding Summary');
    // Implement modal or full-screen view
  }

  copySummary(): void {
    this.copyToClipboard(this.summaryContent, 'Summary');
  }

  downloadSummary(): void {
    this.downloadContent('summary', this.summaryContent);
  }

  // Keywords Actions
  expandKeywords(): void {
    console.log('Expanding Keywords');
    // Implement modal or full-screen view
  }

  copyKeywords(): void {
    const keywordsText = this.keywords.join(', ');
    this.copyToClipboard(keywordsText, 'Keywords');
  }

  downloadKeywords(): void {
    const keywordsText = this.keywords.join('\n');
    this.downloadContent('keywords', keywordsText);
  }

  // FAQ Actions
  expandFaq(): void {
    console.log('Expanding FAQ');
    // Implement modal or full-screen view
  }

  copyFaq(): void {
    const faqText = this.faqs.map((faq, index) =>
      `Q${index + 1}: ${faq.question}\nA${index + 1}: ${faq.answer}`
    ).join('\n\n');
    this.copyToClipboard(faqText, 'FAQ');
  }

  downloadFaq(): void {
    const faqText = this.faqs.map((faq, index) =>
      `Q${index + 1}: ${faq.question}\nA${index + 1}: ${faq.answer}`
    ).join('\n\n');
    this.downloadContent('faq', faqText);
  }

  // Utility Methods
  private copyToClipboard(content: string, section: string): void {
    navigator.clipboard.writeText(content).then(() => {
      console.log(`${section} copied to clipboard`);
      // You can add a toast notification here
      alert(`${section} copied to clipboard!`);
    }).catch(err => {
      console.error('Failed to copy:', err);
      alert('Failed to copy to clipboard');
    });
  }

  private downloadContent(filename: string, content: string): void {
    const blob = new Blob([content], { type: 'text/plain' });
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `${filename}_${new Date().getTime()}.txt`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    window.URL.revokeObjectURL(url);
    console.log(`${filename} downloaded`);
  }

  // Method to update results (can be called from parent component)
  updateResults(summary: string, keywords: string[], faqs: FaqItem[]): void {
    this.summaryContent = summary;
    this.keywords = keywords;
    this.faqs = faqs;
    this.hasResults = true;
  }

  // Method to clear results
  clearResults(): void {
    this.summaryContent = '';
    this.keywords = [];
    this.faqs = [];
    this.hasResults = false;
  }
}















import { Injectable } from '@angular/core';
import { HttpClient, HttpEvent } from '@angular/common/http';
import { Observable } from 'rxjs';

export interface UploadResponse {
  status: string;
  data: {
    id: number;
    original_name: string;
    created_at: string;
  };
}

@Injectable({
  providedIn: 'root'
})
export class UploadGenerateService {
  private apiUrl = '/content-analytics/upload'; // Adjust base URL as needed

  constructor(private http: HttpClient) { }

  uploadFile(file: File): Observable<HttpEvent<UploadResponse>> {
    const formData = new FormData();
    formData.append('file', file);

    return this.http.post<UploadResponse>(this.apiUrl, formData, {
      reportProgress: true,
      observe: 'events'
    });
  }
}

