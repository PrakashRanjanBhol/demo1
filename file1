 // Wait for Angular to finish routing before deciding to reconnect
    this.router.events
      .pipe(filter(event => event instanceof NavigationEnd))
      .subscribe(() => {
        const currentUrl = this.router.url;

        // âœ… Only reconnect SSO if not on login page
        if (user?.method === 'sso' && currentUrl !== '/login') {
          this.connectSSO(true);
        }
      });
