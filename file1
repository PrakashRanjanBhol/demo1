<main>
    <!-- Page Header -->
    <div class="page-header" [class.expanded]="isHeaderExpanded">
        <div class="header-content">
            <div class="header-icon-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="header-icon">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6" />
                </svg>
            </div>
            <div class="header-text">
                <h1 class="page-title">Content Analytics</h1>
                <p class="page-subtitle">Transform your audio into actionable insights</p>
            </div>
            <button class="header-toggle-btn" (click)="toggleHeader()"
                [attr.aria-label]="isHeaderExpanded ? 'Collapse header' : 'Expand header'">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="toggle-icon">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
            </button>
        </div>
        <div class="header-expanded-content">
            <div class="header-stats">
                <div class="stat-item">
                    <div class="stat-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                        </svg>
                    </div>
                    <div class="stat-info">
                        <div class="stat-label">Total Analyzed</div>
                        <div class="stat-value">24 Files</div>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="stat-info">
                        <div class="stat-label">Processing Time</div>
                        <div class="stat-value">~2.5 hrs</div>
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
                        </svg>
                    </div>
                    <div class="stat-info">
                        <div class="stat-label">AI Insights</div>
                        <div class="stat-value">156 Generated</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="content-layout">
        <!-- Upload Section (Left - 50%) -->
        <div class="upload-column">
            <section class="upload-section">
                <div class="section-header">
                    <h2 class="section-title">{{ uploadView === 'upload' ? 'Upload & Generate' : 'History' }}</h2>
                    <div class="header-actions">
                        <!-- View Toggle Button -->
                        <button class="view-toggle-btn" *ngIf="uploadView === 'upload'"
                            (click)="uploadView = 'history'">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>History</span>
                        </button>
                        <button class="view-toggle-btn" *ngIf="uploadView === 'history'"
                            (click)="uploadView = 'upload'">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
                            </svg>
                            <span>Upload & Generate</span>
                        </button>
                    </div>
                </div>

                <div class="upload-content">
                    <!-- Upload View -->
                    <div class="upload-view" *ngIf="uploadView === 'upload'">
                        <div class="upload-fields-container">
                            <!-- File Upload Area -->
                            <div class="upload-area-wrapper">
                                <label class="upload-area-label">Lecture / Related file or folder</label>
                                <div class="file-upload-zone" [class.drag-over]="isDragging" (drop)="onFileDrop($event)"
                                    (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)">
                                    <div class="upload-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
                                        </svg>
                                    </div>
                                    <h3 class="upload-title">Drop your audio file here</h3>
                                    <p class="upload-subtitle">or</p>
                                    <div class="upload-btn-wrapper">
                                        <button class="browse-btn" (click)="fileInput.click()">Browse Files</button>
                                    </div>
                                    <input #fileInput type="file" class="file-input-hidden"
                                        (change)="onFileSelected($event)">
                                    <p class="upload-info">Supported formats: MP3, WAV, M4A, FLAC</p>

                                    <div class="selected-file" *ngIf="selectedFileName">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z" />
                                        </svg>
                                        <span>{{ selectedFileName }}</span>
                                        <button class="remove-file-btn" (click)="removeFile()">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M6 18L18 6M6 6l12 12" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Optional Prompts -->
                            <div class="prompts-area">
                                <label class="prompts-label">Optional Prompts (Notes)</label>
                                <textarea class="prompts-textarea" [(ngModel)]="optionalPrompts" name="prompts"
                                    placeholder="Enter any specific instructions or notes for the AI analysis...&#10;&#10;Example:&#10;- Focus on extracting key topics&#10;- Identify speakers&#10;- Summarize main points"
                                    rows="10"></textarea>
                                <p class="prompts-hint">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                                    </svg>
                                    Add custom instructions to guide the AI analysis
                                </p>
                            </div>

                            <!-- Processing Progress Bar -->
                            <div class="processing-container" *ngIf="isProcessing">
                                <div class="processing-header">
                                    <div class="processing-icon-wrapper">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="1.5" stroke="currentColor" class="processing-icon">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
                                        </svg>
                                    </div>
                                    <div class="processing-info">
                                        <h4 class="processing-title">Processing Your File</h4>
                                        <p class="processing-filename">{{ processingFileName }}</p>
                                    </div>
                                    <span class="processing-percentage">{{ processingProgress }}%</span>
                                </div>

                                <div class="progress-bar-container">
                                    <div class="progress-bar-track">
                                        <div class="progress-bar-fill" [style.width.%]="processingProgress">
                                            <div class="progress-bar-shimmer"></div>
                                        </div>
                                    </div>
                                </div>

                                <p class="processing-message">
                                    Analyzing audio content, extracting insights, and generating results...
                                </p>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="generate-btn" [disabled]="!selectedFile || isProcessing"
                                (click)="onGenerate()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
                                </svg>
                                {{ isProcessing ? 'Processing...' : 'Generate' }}
                            </button>
                            <button class="reset-btn" [disabled]="isProcessing" (click)="onReset()">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
                                </svg>
                                Reset
                            </button>
                        </div>
                    </div>

                    <!-- History View -->
                    <div class="history-view" *ngIf="uploadView === 'history'">

                        <div class="filter-section-header">
                            <div class="filter-header-left">
                                <div class="filter-header-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z" />
                                    </svg>
                                </div>
                                <h3 class="filter-header-title">Filters</h3>
                            </div>

                            <!-- Filter Toggle Buttons Inside Header -->
                            <div class="filter-header-actions">
                                <button class="filter-toggle-btn" [class.active]="showSearchFilter"
                                    (click)="toggleSearchFilter()" title="Search">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                                    </svg>
                                    <span>Search</span>
                                </button>

                                <button class="filter-toggle-btn" [class.active]="showDateFilter"
                                    (click)="toggleDateFilter()" title="Date Range">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5" />
                                    </svg>
                                    <span>Date Range</span>
                                </button>
                            </div>
                        </div>


                        <!-- Collapsible Search Filter -->
                        <div class="filter-panel" *ngIf="showSearchFilter">
                            <div class="search-box">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor" class="search-icon">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                                </svg>
                                <input type="text" class="search-input" placeholder="Search files..."
                                    [(ngModel)]="searchQuery" (input)="filterHistory()">
                                <button class="clear-search-btn" *ngIf="searchQuery" (click)="clearSearch()">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Collapsible Date Range Filter -->
                        <div class="filter-panel" *ngIf="showDateFilter">
                            <div class="date-filters-inline">
                                <div class="date-input-wrapper">
                                    <label class="date-label">From</label>
                                    <input type="date" class="date-input" [(ngModel)]="dateFrom"
                                        (change)="filterHistory()">
                                </div>
                                <div class="date-input-wrapper">
                                    <label class="date-label">To</label>
                                    <input type="date" class="date-input" [(ngModel)]="dateTo"
                                        (change)="filterHistory()">
                                </div>
                                <button class="clear-filter-btn" *ngIf="dateFrom || dateTo" (click)="clearDateFilter()"
                                    title="Clear date filter">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="content-section-header">
                            <div class="content-header-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z" />
                                </svg>
                            </div>
                            <h3 class="content-header-title">History Records</h3>
                            <span class="content-count">{{ filteredHistory.length }} files</span>
                        </div>

                        <!-- History Content -->
                        <div class="history-content">
                            <div class="no-results" *ngIf="filteredHistory.length === 0">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
                                </svg>
                                <p>No files found matching your criteria</p>
                            </div>

                            <div class="history-item" *ngFor="let item of filteredHistory"
                                [class.selected]="selectedHistoryItem?.id === item.id"
                                (click)="onHistoryItemClick(item.id)">
                                <div class="history-item-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                                    </svg>
                                </div>
                                <div class="history-item-details">
                                    <h4 class="history-item-name">{{ item.name }}</h4>
                                    <p class="history-item-date">{{ item.displayDate }}</p>
                                </div>
                                <!-- Check Mark for Selected Item -->
                                <div class="history-item-checkmark" *ngIf="selectedHistoryItem?.id === item.id">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="2.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M4.5 12.75l6 6 9-13.5" />
                                    </svg>
                                </div>
                                <button class="history-item-action" *ngIf="selectedHistoryItem?.id !== item.id"
                                    (click)="$event.stopPropagation()">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Workspace Section (Right - 50%) -->
        <div class="workspace-column">
            <section class="workspace-section">
                <div class="workspace-header">
                    <div class="section-header">
                        <div class="workspace-header-content">
                            <h2 class="section-title">Workspace Result</h2>
                            <!-- Selected File Info - Shows when a file is selected -->
                            <div class="selected-file-info" *ngIf="selectedHistoryItem">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor" class="file-info-icon">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                                </svg>
                                <span class="file-name">{{ selectedHistoryItem.name }}</span>
                                <span class="file-separator">‚Ä¢</span>
                                <span class="file-date">{{ selectedHistoryItem.displayDate }}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="workspace-content-wrapper">
                    <div class="workspace-content">
                        <!-- Empty State - Show when no file is selected -->
                        <div class="workspace-empty-state" *ngIf="!selectedHistoryItem">
                            <div class="empty-state-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                                </svg>
                            </div>
                            <h3 class="empty-state-title">No Analysis Selected</h3>
                            <p class="empty-state-message">
                                Select a file from the history to view its analysis results
                            </p>
                            <div class="empty-state-hint">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />
                                </svg>
                                <span>Click on any history item to get started</span>
                            </div>
                        </div>

                        <!-- Dynamic Result Content -->
                        <div class="result-content" *ngIf="selectedHistoryItem && resultItems.length > 0">
                            <!-- Dynamic Result Items -->
                            <div class="result-item" *ngFor="let item of resultItems"
                                [class.selected]="selectedResultItemId === item.id">
                                <div class="result-item-header">
                                    <div class="result-item-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="1.5" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                [attr.d]="getIconPath(item.icon)" />
                                        </svg>
                                    </div>
                                    <div class="result-item-title-section">
                                        <h4 class="result-item-title">{{ item.title }}</h4>
                                    </div>
                                    <!-- Viewing Badge beside title -->
                                    <div class="viewing-badge" *ngIf="selectedResultItemId === item.id">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                            stroke-width="2" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        <span>Viewing</span>
                                    </div>
                                    <div class="result-actions">
                                        <!-- Expand Icon (two diagonal arrows) -->
                                        <button class="result-action-icon-btn" title="Expand"
                                            (click)="openDetail(item)">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M15.75 4.5H19.5v3.75M19.5 4.5l-5.25 5.25M8.25 19.5H4.5v-3.75M4.5 19.5l5.25-5.25" />
                                            </svg>
                                        </button>
                                        <!-- Copy Icon (Document Duplicate) -->
                                        <button class="result-action-icon-btn" title="Copy"
                                            (click)="copyToClipboard(item.content)">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" />
                                            </svg>
                                        </button>
                                        <!-- Download Icon (Arrow Down Tray) -->
                                        <button class="result-action-icon-btn" title="Download"
                                            (click)="downloadContent(item)">
                                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                                stroke-width="1.5" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                    d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div class="result-item-content">
                                    <p class="result-text">{{ item.content }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Detail Overlay & Sidebar -->
    <div class="detail-overlay" [class.active]="isDetailOpen" (click)="closeDetail()"></div>
    <div class="detail-sidebar" [class.active]="isDetailOpen">
        <div class="detail-sidebar-header">
            <div class="detail-sidebar-title-section">
                <h3 class="detail-sidebar-title">{{ selectedItemName }}</h3>
                <p class="detail-sidebar-meta">{{ selectedItemDate }}</p>
            </div>
            <button class="detail-close-btn" (click)="closeDetail()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div class="detail-sidebar-content">
            <div class="markdown-content" [innerHTML]="selectedItemContent"></div>
        </div>
    </div>
</main>








/* Main Content Styles */
:host {
    display: flex;
    flex-direction: column;
    flex: 1;
    overflow: hidden;
    height: 100%;
}

main {
    flex: 1;
    width: 100%;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    height: 100%;
}

/* Page Header */
.page-header {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border-left: 4px solid var(--primary-color);
    padding: 16px 24px;
    margin: 20px 24px 0 24px;
    border-radius: 8px;
    flex-shrink: 0;
    transition: all 0.3s ease;
    overflow: hidden;
}

.page-header.expanded {
    padding-bottom: 20px;
}

.header-icon-wrapper {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid var(--primary-color);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.header-content {
    display: flex;
    align-items: center;
    gap: 14px;
    position: relative;
    z-index: 1;
}

.header-icon {
    width: 24px;
    height: 24px;
    stroke: var(--primary-color);
}

.header-text {
    flex: 1;
}

.page-title {
    font-size: 20px;
    font-weight: 700;
    margin: 0 0 3px 0;
    letter-spacing: -0.02em;
    color: var(--text-color);
}

.page-subtitle {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

.header-toggle-btn {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background-color: transparent;
    border: 1px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.header-toggle-btn:hover {
    background-color: var(--footer-bg);
    border-color: var(--primary-color);
}

.header-toggle-btn .toggle-icon {
    width: 18px;
    height: 18px;
    stroke: var(--text-color);
    transition: transform 0.3s ease;
}

.page-header.expanded .header-toggle-btn .toggle-icon {
    transform: rotate(180deg);
}

/* Expanded Header Content */
.header-expanded-content {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.3s ease;
    margin-top: 0;
}

.page-header.expanded .header-expanded-content {
    max-height: 200px;
    opacity: 1;
    margin-top: 16px;
}

.header-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.stat-item:hover {
    border-color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);
}

.stat-icon {
    width: 36px;
    height: 36px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.stat-icon svg {
    width: 18px;
    height: 18px;
    stroke: var(--primary-color);
}

.stat-info {
    flex: 1;
    min-width: 0;
}

.stat-label {
    font-size: 11px;
    color: var(--text-color);
    opacity: 0.6;
    margin-bottom: 2px;
}

.stat-value {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-color);
}

/* Content Layout - Vertical Split */
.content-layout {
    display: flex;
    flex-direction: row;
    gap: 16px;
    flex: 1;
    overflow: hidden;
    margin-top: 16px;
    position: relative;
    padding: 0 24px;
}

/* Modern separator design */
.content-layout::before {
    content: '';
    position: absolute;
    top: -8px;
    left: 24px;
    right: 24px;
    height: 1px;
    background: linear-gradient(90deg,
            transparent 0%,
            var(--border-color) 10%,
            var(--border-color) 90%,
            transparent 100%);
}

.content-layout::after {
    display: none;
}

/* Upload Column (Left - 50%) */
.upload-column {
    flex: 1 1 50%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    border-right: none;
    background: linear-gradient(135deg,
            var(--header-bg) 0%,
            var(--bg-color) 50%,
            var(--header-bg) 100%);
    transition: all 0.3s ease;
    order: 1;
    position: relative;
    border-radius: 0;
    border: 1px solid var(--border-color);
}

.upload-column::after {
    display: none;
}

.upload-column::-webkit-scrollbar {
    width: 6px;
}

.upload-column::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.upload-column::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.upload-column::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-color);
}

.workspace-column::-webkit-scrollbar {
    width: 6px;
}

.workspace-column::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.workspace-column::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.workspace-column::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-color);
}

/* Workspace Column (Right - 50%) */
.workspace-column {
    flex: 1 1 50%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background: linear-gradient(135deg,
            var(--header-bg) 0%,
            var(--bg-color) 50%,
            var(--header-bg) 100%);
    transition: all 0.3s ease;
    order: 2;
    border-radius: 0;
    border: 1px solid var(--border-color);
}

/* Section Styles */
.section-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    display: flex;
    align-items: center;
    gap: 12px;
    position: relative;
    padding-left: 20px;
}

.section-title::before {
    content: '';
    position: absolute;
    left: 0;
    width: 4px;
    height: 28px;
    background: linear-gradient(180deg, var(--primary-color), #a78bfa);
    border-radius: 2px;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.section-title::after {
    content: '';
    position: absolute;
    left: -4px;
    width: 12px;
    height: 28px;
    background: linear-gradient(180deg, var(--primary-color), #a78bfa);
    border-radius: 2px;
    opacity: 0.2;
    filter: blur(4px);
}

/* Upload Section */
.upload-section {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
}

/* Header - Sticky and fixed height */
.upload-section .section-header {
    position: sticky;
    top: 0;
    z-index: 10;
    background: linear-gradient(135deg, var(--bg-color), var(--header-bg));
    padding: 20px 24px;
    margin-bottom: 0;
    border-bottom: 2px solid transparent;
    border-image: linear-gradient(90deg, transparent, var(--primary-color), transparent) 1;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* Section header should not grow */
.section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.section-controls {
    display: flex;
    gap: 8px;
}

/* Upload Content */
.upload-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 20px;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 20px 24px 24px 24px;
}

/* Upload Fields Container - Horizontal Layout */
.upload-fields-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* File Upload Area */
.upload-area-wrapper {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.upload-area-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    display: flex;
    align-items: center;
    gap: 8px;
}

.upload-area-label::before {
    content: 'üìÅ';
    font-size: 15px;
}

.file-upload-zone {
    border: 2px dashed var(--border-color);
    border-radius: 12px;
    padding: 30px 24px;
    text-align: center;
    background-color: var(--bg-color);
    transition: all 0.3s ease;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.file-upload-zone.drag-over {
    border-color: var(--primary-color);
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
}

.file-upload-zone:hover {
    border-color: var(--primary-color);
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.02), rgba(167, 139, 250, 0.02));
}

.upload-icon {
    width: 48px;
    height: 48px;
    margin: 0 auto 12px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.upload-icon svg {
    width: 24px;
    height: 24px;
    stroke: var(--primary-color);
}

.upload-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color);
    margin: 0 0 6px 0;
}

.upload-subtitle {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.5;
    margin: 0 0 12px 0;
}

.upload-btn-wrapper {
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 1;
}

.browse-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 8px 20px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.2);
}

.browse-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.browse-btn:active {
    transform: translateY(0);
}

.file-input-hidden {
    display: none;
}

.upload-info {
    font-size: 11px;
    color: var(--text-color);
    opacity: 0.5;
    margin: 12px 0 0 0;
}

.selected-file {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background-color: var(--footer-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-top: 16px;
}

.selected-file svg {
    width: 20px;
    height: 20px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

.selected-file span {
    flex: 1;
    font-size: 14px;
    color: var(--text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.remove-file-btn {
    width: 24px;
    height: 24px;
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.remove-file-btn:hover {
    background-color: rgba(239, 68, 68, 0.1);
}

.remove-file-btn svg {
    width: 16px;
    height: 16px;
    stroke: #ef4444;
}

/* Prompts Area */
.prompts-area {
    display: flex;
    flex-direction: column;
}

.prompts-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.prompts-label::before {
    content: '‚úçÔ∏è';
    font-size: 15px;
}

.prompts-textarea {
    padding: 14px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    color: var(--text-color);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    resize: vertical;
    min-height: 120px;
    transition: all 0.2s ease;
}

.prompts-textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.prompts-textarea::placeholder {
    color: var(--text-color);
    opacity: 0.4;
}

.prompts-hint {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    color: var(--text-color);
    opacity: 0.6;
    margin-top: 8px;
}

.prompts-hint svg {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
}

/* Action Buttons */
.action-buttons {
    display: flex;
    gap: 12px;
    padding-top: 8px;
}

.generate-btn,
.reset-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.generate-btn {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    color: white;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.2);
}

.generate-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.generate-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.generate-btn svg,
.reset-btn svg {
    width: 16px;
    height: 16px;
}

.reset-btn {
    background-color: var(--footer-bg);
    color: var(--text-color);
    border: 1px solid var(--border-color);
}

.reset-btn:hover {
    background-color: var(--bg-color);
    border-color: var(--primary-color);
}

/* Workspace Section */
.workspace-section {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
}

/* Workspace header should not grow */
.workspace-header {
    position: sticky;
    top: 0;
    z-index: 10;
    background: linear-gradient(135deg, var(--bg-color), var(--header-bg));
    padding: 20px 24px;
    flex-shrink: 0;
    border-bottom: 2px solid transparent;
    border-image: linear-gradient(90deg, transparent, var(--primary-color), transparent) 1;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.header-actions {
    display: flex;
    gap: 8px;
    align-items: center;
}

/* Workspace Content Wrapper */
.workspace-content-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 20px 24px 24px 24px;
}

.workspace-content-wrapper:has(.result-content) {
    align-items: initial;
    justify-content: initial;
}

/* Keep center alignment only for empty state */
.workspace-content-wrapper:has(.workspace-empty-state) {
    align-items: center;
    justify-content: center;
}


/* Tabs */
.tabs {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

.tab {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 18px;
    background-color: var(--footer-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0.7;
    position: relative;
    overflow: hidden;
}

.tab::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent);
    transition: left 0.5s ease;
    opacity: 0;
}

.tab:hover {
    opacity: 1;
    border-color: var(--primary-color);
    transform: translateY(-1px);
}

.tab:hover::before {
    opacity: 1;
}

.tab.active {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    color: white;
    opacity: 1;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3),
        0 2px 4px rgba(139, 92, 246, 0.2);
    transform: translateY(-1px);
}

.tab.active::before {
    opacity: 0;
}

.tab.active svg {
    stroke: white;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.tab svg {
    width: 16px;
    height: 16px;
    transition: all 0.3s ease;
}

.tab:hover svg {
    transform: scale(1.1);
}

.tab.active:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4),
        0 2px 4px rgba(139, 92, 246, 0.3);
}

/* Tab Content */
.workspace-content {
    display: flex;
    flex-direction: column;
    position: relative;
    z-index: 1;
    overflow: visible;
    width: 100%;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Result Content */
.result-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
    animation: fadeInUp 0.4s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.result-item {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    overflow: hidden;
    transition: all 0.2s ease;
}

.result-item:hover {
    border-color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);
}

/* Result Item - Selected State (mirrors .history-item.selected) */
.result-item.selected {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.12), rgba(167, 139, 250, 0.12));
    border-color: var(--primary-color);
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.2);
    transform: translateX(4px);
}

.result-item.selected .result-item-icon {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
}

.result-item.selected .result-item-icon svg {
    stroke: white;
}

.result-item.selected .result-item-title {
    color: var(--primary-color);
    font-weight: 700;
}

/* Selected state: keep the view button highlighted */
.result-item.selected .result-action-icon-btn:first-child {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
}

.result-item.selected .result-action-icon-btn:first-child svg {
    stroke: white;
    opacity: 1;
}

/* Selected hover ‚Äî prevent the generic hover from fighting the selected state */
.result-item.selected:hover {
    border-color: var(--primary-color);
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.3);
    transform: translateX(4px);
}

.result-item-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 14px;
}

.result-item-icon {
    width: 34px;
    height: 34px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 9px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s ease;
}

.result-item-icon svg {
    width: 17px;
    height: 17px;
    stroke: var(--primary-color);
    transition: stroke 0.2s ease;
}

.result-item-title-section {
    flex: 1;
    min-width: 0;
}

.result-item-title {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    margin: 0;
    transition: color 0.2s ease, font-weight 0.2s ease;
}

/* Icon-Only Action Buttons - Beautiful Design */

.result-actions {
    display: flex;
    gap: 4px;
    flex-shrink: 0;
}

.result-action-icon-btn {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

/* Shimmer Effect */
.result-action-icon-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.2), transparent);
    transition: left 0.5s ease;
}

.result-action-icon-btn:hover::before {
    left: 100%;
}

/* Hover State */
.result-action-icon-btn:hover {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border-color: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
}

/* Icon Styling */
.result-action-icon-btn svg {
    width: 15px;
    height: 15px;
    stroke: var(--text-color);
    opacity: 0.7;
    transition: all 0.3s ease;
}

.result-action-icon-btn:hover svg {
    stroke: var(--primary-color);
    opacity: 1;
    transform: scale(1.1);
}

/* Color-Coded Icons on Hover */
.result-action-icon-btn:nth-child(1):hover {
    border-color: #3b82f6;
}

.result-action-icon-btn:nth-child(1):hover svg {
    stroke: #3b82f6;
}

.result-action-icon-btn:nth-child(2):hover {
    border-color: #8b5cf6;
}

.result-action-icon-btn:nth-child(2):hover svg {
    stroke: #8b5cf6;
}

.result-action-icon-btn:nth-child(3):hover {
    border-color: #10b981;
}

.result-action-icon-btn:nth-child(3):hover svg {
    stroke: #10b981;
}

.result-action-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 7px 14px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 8px;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.result-action-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.15), transparent);
    transition: left 0.5s ease;
}

.result-action-btn:hover::before {
    left: 100%;
}

.result-action-btn:hover {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.result-action-btn svg {
    width: 14px;
    height: 14px;
    transition: all 0.3s ease;
}

.result-action-btn:hover svg {
    stroke: white;
    transform: scale(1.1);
}

.result-action-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(139, 92, 246, 0.2);
}

.result-item-content {
    padding: 6px 14px 12px 60px;
}

.result-text {
    font-size: 13px;
    line-height: 1.6;
    color: var(--text-color);
    margin: 0;
}

/* History Content */
.history-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.history-item {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 14px 16px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.history-item:hover {
    border-color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);
}

.history-item-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.history-item-icon svg {
    width: 20px;
    height: 20px;
    stroke: var(--primary-color);
}

.history-item-details {
    flex: 1;
    min-width: 0;
}

.history-item-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-color);
    margin: 0 0 4px 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.history-item-date {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

.history-item-action {
    width: 32px;
    height: 32px;
    background-color: transparent;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.history-item-action:hover {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

.history-item-action svg {
    width: 16px;
    height: 16px;
    stroke: var(--text-color);
    transition: stroke 0.2s ease;
}

.history-item-action:hover svg {
    stroke: white;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .content-layout {
        flex-direction: column;
        gap: 16px;
    }

    .upload-column,
    .workspace-column {
        width: 100%;
        border-radius: 0;
    }

    .workspace-column {
        width: 100%;
    }

    .header-stats {
        grid-template-columns: 1fr;
    }

    .detail-sidebar {
        left: 24px;
        top: 80px;
        height: calc(100vh - 80px);
    }

    .detail-sidebar.active {
        width: calc(100% - 48px);
    }
}

@media (max-width: 768px) {

    .upload-section,
    .workspace-section {
        padding: 20px;
    }

    .upload-fields-container {
        gap: 16px;
    }

    .tabs {
        flex-direction: column;
    }

    .tab {
        justify-content: flex-start;
    }

    .action-buttons {
        flex-direction: column;
    }

    .result-actions {
        flex-direction: column;
        width: 100%;
    }

    .result-action-btn {
        width: 100%;
    }

    .header-stats {
        grid-template-columns: 1fr;
    }

    .page-header {
        margin: 16px 16px 0 16px;
        padding: 14px 16px;
    }

    .date-filters {
        flex-direction: column;
        align-items: stretch;
    }

    .clear-filter-btn {
        width: 100%;
    }

    .filter-section-header {
        flex-direction: column;
        align-items: stretch;
    }

    .filter-header-left {
        justify-content: center;
    }

    .filter-header-actions {
        width: 100%;
    }

    .filter-toggle-btn {
        flex: 1;
    }
}

/* View Toggle Button in Header */
.view-toggle-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 18px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border: none;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 600;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    position: relative;
    overflow: hidden;
}

.view-toggle-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s ease;
}

.view-toggle-btn:hover::before {
    left: 100%;
}

.view-toggle-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
}

.view-toggle-btn:active {
    transform: translateY(0);
    box-shadow: 0 3px 8px rgba(139, 92, 246, 0.3);
}

.view-toggle-btn svg {
    width: 16px;
    height: 16px;
    stroke: white;
    transition: all 0.3s ease;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}

.view-toggle-btn:hover svg {
    transform: scale(1.1) rotate(5deg);
}

/* Upload View */
.upload-view {
    animation: fadeIn 0.3s ease;
    overflow: visible;
}

/* History View */
.history-view {
    animation: fadeIn 0.3s ease;
    overflow: visible;
}

.history-view .history-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Scrollbar styling for workspace-section */
.workspace-section::-webkit-scrollbar {
    width: 6px;
}

.workspace-section::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.workspace-section::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.workspace-section::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-color);
}

/* Scrollbar styling for upload-section */
.upload-section::-webkit-scrollbar {
    width: 6px;
}

.upload-section::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.upload-section::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.upload-section::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-color);
}

/* Scrollbar for upload content */
.upload-content::-webkit-scrollbar {
    width: 6px;
}

.upload-content::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.upload-content::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.upload-content::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-color);
}

/* Scrollbar for workspace content */
.workspace-content-wrapper::-webkit-scrollbar {
    width: 6px;
}

.workspace-content-wrapper::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.workspace-content-wrapper::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.workspace-content-wrapper::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-color);
}


/* Sliding Overlay */
.detail-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.detail-overlay.active {
    opacity: 1;
    visibility: visible;
}

.detail-sidebar {
    position: fixed;
    top: 114px;
    left: 84px;
    width: 0;
    height: calc(100vh - 155px);
    background-color: var(--bg-color);
    box-shadow: 4px 0 20px var(--shadow-color);
    z-index: 1001;
    overflow: hidden;
    transition: width 0.3s ease;
    display: flex;
    flex-direction: column;
    border-radius: 0;
}

.detail-sidebar.active {
    width: calc(50% - 62px);
}

/* Sidebar Header */
.detail-sidebar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 24px;
    border-bottom: 1px solid var(--border-color);
    background-color: var(--header-bg);
    flex-shrink: 0;
}

.detail-sidebar-title-section {
    flex: 1;
    min-width: 0;
    padding-right: 16px;
}

.detail-sidebar-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0 0 4px 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.detail-sidebar-meta {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

.detail-close-btn {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: transparent;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.detail-close-btn:hover {
    background-color: var(--footer-bg);
    border-color: var(--primary-color);
}

.detail-close-btn svg {
    width: 16px;
    height: 16px;
    stroke: var(--text-color);
}

/* Sidebar Content */
.detail-sidebar-content {
    flex: 1;
    overflow-y: auto;
    padding: 24px;
}

.detail-sidebar-content::-webkit-scrollbar {
    width: 6px;
}

.detail-sidebar-content::-webkit-scrollbar-track {
    background: rgba(139, 92, 246, 0.05);
    border-radius: 3px;
}

.detail-sidebar-content::-webkit-scrollbar-thumb {
    background-color: rgba(139, 92, 246, 0.3);
    border-radius: 3px;
}

.detail-sidebar-content::-webkit-scrollbar-thumb:hover {
    background-color: var(--primary-color);
}

/* History Filters */
.history-filters {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border-color);
}

/* Search Box */
.search-box {
    position: relative;
    display: flex;
    align-items: center;
}

.search-icon {
    position: absolute;
    left: 12px;
    width: 18px;
    height: 18px;
    stroke: var(--text-color);
    opacity: 0.5;
    pointer-events: none;
}

.search-input {
    width: 100%;
    padding: 10px 40px 10px 40px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    color: var(--text-color);
    transition: all 0.2s ease;
}

.search-input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.search-input::placeholder {
    color: var(--text-color);
    opacity: 0.4;
}

.clear-search-btn {
    position: absolute;
    right: 8px;
    width: 24px;
    height: 24px;
    background: transparent;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.clear-search-btn:hover {
    background-color: var(--footer-bg);
}

.clear-search-btn svg {
    width: 14px;
    height: 14px;
    stroke: var(--text-color);
    opacity: 0.6;
}

/* Date Filters */
.date-filters {
    display: flex;
    gap: 8px;
    align-items: flex-end;
}

.date-input-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.date-label {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-color);
    opacity: 0.7;
}

.date-input {
    padding: 10px 12px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 13px;
    color: var(--text-color);
    transition: all 0.2s ease;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.date-input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
}

.date-input::-webkit-calendar-picker-indicator {
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.2s ease;
}

.date-input::-webkit-calendar-picker-indicator:hover {
    opacity: 1;
}

.clear-filter-btn {
    width: 40px;
    height: 40px;
    background-color: var(--footer-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.clear-filter-btn:hover {
    background-color: var(--bg-color);
    border-color: var(--primary-color);
}

.clear-filter-btn svg {
    width: 18px;
    height: 18px;
    stroke: var(--text-color);
}

/* No Results */
.no-results {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 48px 24px;
    text-align: center;
}

.no-results svg {
    width: 48px;
    height: 48px;
    stroke: var(--text-color);
    opacity: 0.3;
    margin-bottom: 16px;
}

.no-results p {
    font-size: 14px;
    color: var(--text-color);
    opacity: 0.6;
    margin: 0;
}

/* Filter Panel - Collapsible */
.filter-panel {
    margin-bottom: 12px;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Date Filters - Inline Layout */
.date-filters-inline {
    display: flex;
    gap: 8px;
    align-items: flex-end;
}

.date-filters-inline .date-input-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.date-filters-inline .clear-filter-btn {
    width: 40px;
    height: 40px;
    flex-shrink: 0;
}

/* Filter Section Header */
.filter-section-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    border: 1px solid rgba(139, 92, 246, 0.15);
    border-radius: 8px;
    margin-bottom: 12px;
}

.filter-header-left {
    display: flex;
    align-items: center;
    gap: 10px;
}

.filter-header-icon {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(167, 139, 250, 0.15));
    border: 1px solid rgba(139, 92, 246, 0.25);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.filter-header-icon svg {
    width: 16px;
    height: 16px;
    stroke: var(--primary-color);
}

.filter-header-title {
    font-size: 14px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Filter Header Actions - Right Side */
.filter-header-actions {
    display: flex;
    gap: 8px;
    flex-shrink: 0;
}

.filter-toggle-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.filter-toggle-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent);
    transition: left 0.5s ease;
}

.filter-toggle-btn:hover {
    border-color: var(--primary-color);
    background-color: var(--footer-bg);
}

.filter-toggle-btn:hover::before {
    left: 100%;
}

.filter-toggle-btn.active {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    color: white;
    border-color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.2);
}

.filter-toggle-btn svg {
    width: 16px;
    height: 16px;
    stroke: var(--text-color);
    transition: all 0.3s ease;
}

.filter-toggle-btn.active svg {
    stroke: white;
}


/* Content Section Header */
.content-section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(167, 139, 250, 0.05));
    border-left: 3px solid var(--primary-color);
    border-radius: 4px;
    margin-top: 16px;
    margin-bottom: 12px;
}

.content-header-icon {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.content-header-icon svg {
    width: 18px;
    height: 18px;
    stroke: var(--primary-color);
    opacity: 0.8;
}

.content-header-title {
    font-size: 13px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0;
    flex: 1;
}

.content-count {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-color);
    opacity: 0.6;
    padding: 4px 10px;
    background-color: rgba(139, 92, 246, 0.1);
    border-radius: 12px;
}

/* Workspace Empty State */
.workspace-empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 40px;
    text-align: center;
    min-height: auto;
    max-width: 500px;
    margin: auto;
}

.empty-state-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 2px solid rgba(139, 92, 246, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    animation: float 3s ease-in-out infinite;
}

.empty-state-icon svg {
    width: 40px;
    height: 40px;
    stroke: var(--primary-color);
    opacity: 0.7;
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0px);
    }

    50% {
        transform: translateY(-10px);
    }
}

.empty-state-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0 0 10px 0;
}

.empty-state-message {
    font-size: 14px;
    color: var(--text-color);
    opacity: 0.7;
    margin: 0 0 20px 0;
    max-width: 320px;
    line-height: 1.6;
}

.empty-state-hint {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 20px;
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.8;
    animation: pulse 2s ease-in-out infinite;
}

.empty-state-hint svg {
    width: 16px;
    height: 16px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

@keyframes pulse {

    0%,
    100% {
        opacity: 0.8;
    }

    50% {
        opacity: 1;
    }
}

.workspace-header-content {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.selected-file-info {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(167, 139, 250, 0.1));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 8px;
    animation: slideDown 0.3s ease;
    max-width: 100%;
    overflow: hidden;
}

.file-info-icon {
    width: 16px;
    height: 16px;
    stroke: var(--primary-color);
    flex-shrink: 0;
}

.file-name {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 300px;
}

.file-separator {
    color: var(--text-color);
    opacity: 0.4;
    font-weight: 700;
}

.file-date {
    font-size: 11px;
    color: var(--text-color);
    opacity: 0.6;
    white-space: nowrap;
}

/* History Item - Selected State */
.history-item.selected {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.12), rgba(167, 139, 250, 0.12));
    border-color: var(--primary-color);
    box-shadow: 0 4px 16px rgba(139, 92, 246, 0.2);
    transform: translateX(4px);
}

.history-item.selected .history-item-icon {
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-color: var(--primary-color);
}

.history-item.selected .history-item-icon svg {
    stroke: white;
}

.history-item.selected .history-item-name {
    color: var(--primary-color);
    font-weight: 700;
}

/* Checkmark for Selected Item */
.history-item-checkmark {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    animation: scaleIn 0.3s ease;
    box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
}

.history-item-checkmark svg {
    width: 18px;
    height: 18px;
    stroke: white;
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.5);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Processing Progress Container */
.processing-container {
    padding: 20px;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 12px;
    margin-top: 20px;
    animation: slideIn 0.3s ease;
}

.processing-header {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 16px;
}

.processing-icon-wrapper {
    width: 44px;
    height: 44px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    animation: pulse 2s ease-in-out infinite;
}

.processing-icon {
    width: 24px;
    height: 24px;
    stroke: white;
    animation: rotate 2s linear infinite;
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

.processing-info {
    flex: 1;
    min-width: 0;
}

.processing-title {
    font-size: 14px;
    font-weight: 700;
    color: var(--text-color);
    margin: 0 0 4px 0;
}

.processing-filename {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.7;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.processing-percentage {
    font-size: 18px;
    font-weight: 700;
    color: var(--primary-color);
    flex-shrink: 0;
}

/* Progress Bar */
.progress-bar-track {
    width: 100%;
    height: 8px;
    background-color: rgba(139, 92, 246, 0.15);
    border-radius: 4px;
    overflow: hidden;
}

.progress-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-color), #a78bfa, var(--primary-color));
    background-size: 200% 100%;
    border-radius: 4px;
    transition: width 0.3s ease;
    position: relative;
    animation: gradientShift 2s ease infinite;
}

.progress-bar-shimmer {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% {
        left: -100%;
    }

    100% {
        left: 100%;
    }
}

.processing-message {
    font-size: 12px;
    color: var(--text-color);
    opacity: 0.7;
    margin: 12px 0 0 0;
    text-align: center;
    animation: fadeInOut 2s ease-in-out infinite;
}

/* Title with Badge Container */
.title-with-badge {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Viewing Badge - Beside Title */
.viewing-badge {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 3px 10px;
    background: linear-gradient(135deg, var(--primary-color), #a78bfa);
    border-radius: 12px;
    font-size: 10px;
    font-weight: 600;
    color: white;
    box-shadow: 0 2px 6px rgba(139, 92, 246, 0.3);
    animation: fadeInScale 0.3s ease;
    white-space: nowrap;
    flex-shrink: 0;
}

.viewing-badge svg {
    width: 12px;
    height: 12px;
    stroke: white;
    animation: pulseIcon 1.5s ease-in-out infinite;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.8);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes pulseIcon {

    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.15);
        opacity: 0.9;
    }
}
