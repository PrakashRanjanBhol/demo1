// parent.component.ts
export class ParentComponent {
  removeGenerateFile: { id: number; name: string } | null = null;
  generationStatus: { 
    id: number; 
    status: 'Success' | 'Failure';
    summary_prompt?: string;
    faq_prompt?: string;
  } | null = null;
  newUploadFile: { id: number; original_name: string; created_at: string } | null = null;

  // Mark generation as success with prompts
  markGenerationSuccess(fileId: number, summaryPrompt: string, faqPrompt: string) {
    this.generationStatus = { 
      id: fileId, 
      status: 'Success',
      summary_prompt: summaryPrompt,
      faq_prompt: faqPrompt
    };
    
    setTimeout(() => {
      this.generationStatus = null;
    }, 100);
  }

  // Mark generation as success without prompts
  markGenerationSuccessWithoutPrompts(fileId: number) {
    this.generationStatus = { 
      id: fileId, 
      status: 'Success'
    };
    
    setTimeout(() => {
      this.generationStatus = null;
    }, 100);
  }

  // Mark generation as failure
  markGenerationFailure(fileId: number) {
    this.generationStatus = { 
      id: fileId, 
      status: 'Failure' 
    };
    
    setTimeout(() => {
      this.generationStatus = null;
    }, 100);
  }

  handleItemSelect(item: { 
    id: string; 
    name: string; 
    displayDate: string; 
    date: Date;
    summary_prompt: string | null;
    faq_prompt: string | null;
  }) {
    console.log('Selected Item:', item);
    console.log('Summary Prompt:', item.summary_prompt);
    console.log('FAQ Prompt:', item.faq_prompt);
  }

  handleAddToGeneration(item: any) {
    console.log('File added:', item);
  }

  handleRemoveFromGeneration(itemId: string) {
    console.log('File removed:', itemId);
  }
}
