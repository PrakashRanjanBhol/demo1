<label class="file-label" (contextmenu)="showOverlay($event, node)">
    <i class="pi pi-file"></i>
    <input type="checkbox" [checked]="node.selected" (change)="onFileToggle(node)" />
    <span class="ticket-id">{{ node.ticketKey }}</span>
    <span class="ticket-summary">{{ getTicketSummary(node.name) }}</span>
    <i *ngIf="node.children?.length"
       class="pi" [ngClass]="node.isExpanded ? 'pi-chevron-down' : 'pi-chevron-right'"
       (click)="node.isExpanded = !node.isExpanded"
       style="cursor: pointer; margin-left: 5px;"></i>
</label>




onFileToggle(file: FileNode) {
  if (!file.selected) {
    if (this.selectedFiles.length >= 5) {
      alert('You can select a maximum of 5 pages.');
      return;
    }
    file.selected = true;
    this.selectedFiles.push(file);
  } else {
    file.selected = false;
    this.selectedFiles = this.selectedFiles.filter(f => f !== file);
  }
}
