<div class="file-header">
  <div class="file-info">
    <span class="file-icon">{{ currentFileData?.icon }}</span>
    <span class="file-name">{{ currentFileData?.name }}</span>
    <span class="file-meta">{{ currentFileData?.meta }}</span>
  </div>
  <div class="header-actions">
    <div class="view-toggle" *ngIf="showViewToggle">
      <button 
        class="toggle-btn" 
        [class.active]="isViewActive('code')"
        (click)="changeView('code')">
        Code
      </button>
      <button 
        class="toggle-btn" 
        [class.active]="isViewActive('preview')"
        (click)="changeView('preview')">
        Preview
      </button>
    </div>
    <button class="close-btn" (click)="onClose()" title="Close">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
        <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.75.75 0 1 1 1.06 1.06L9.06 8l3.22 3.22a.75.75 0 1 1-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 0 1-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06z"></path>
      </svg>
    </button>
  </div>
</div>










export class FileViewerComponent implements OnInit, OnChanges {
  @Input() fileName?: string;
  @Input() fileContent?: string;
  @Input() files?: Files;
  @Input() theme: 'dark' | 'light' = 'dark';
  @Output() close = new EventEmitter<void>();

  @HostBinding('class.light-mode') get isLightMode() {
    return this.theme === 'light';
  }

  // ... rest of the properties

  onClose(): void {
    this.close.emit();
  }











.file-header {
  background-color: var(--bitbucket-file-view-bg-secondary);
  border: 1px solid var(--bitbucket-file-view-border);
  border-bottom: none;
  padding: 12px 16px;
  border-radius: 6px 6px 0 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  animation: slideIn 0.4s ease-out 0.1s both;
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.close-btn {
  background-color: transparent;
  color: var(--bitbucket-file-view-text-muted);
  border: none;
  padding: 6px;
  border-radius: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  line-height: 0;
}

.close-btn:hover {
  background-color: var(--bitbucket-file-view-btn-hover);
  color: var(--bitbucket-file-view-text-primary);
}

.close-btn:active {
  transform: scale(0.95);
}

.close-btn svg {
  display: block;
}
