<!-- Step 1 Action Buttons -->
<div class="action-buttons step-1-buttons">
  <div class="left-buttons">
    <button class="upload-btn" [disabled]="uploadedFilesWithStatus.length === 0 || hasUploadingOrUploadedFiles()" (click)="onUpload()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
      </svg>
      Upload
    </button>
    <button class="reset-btn" [disabled]="uploadedFilesWithStatus.length === 0" (click)="onReset()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
      </svg>
      Reset
    </button>
  </div>
  <button class="next-btn" [disabled]="!hasAtLeastOneSuccessfulUpload()" (click)="onNext()">
    Next
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
    </svg>
  </button>
</div>
















// Check if any file is uploading or uploaded
hasUploadingOrUploadedFiles(): boolean {
  return this.uploadedFilesWithStatus.some(f => 
    f.status === 'uploading' || f.status === 'uploaded'
  );
}

// Check if at least one file was successfully uploaded
hasAtLeastOneSuccessfulUpload(): boolean {
  return this.uploadedFilesWithStatus.some(f => f.status === 'uploaded');
}

// Add new Next button handler
onNext(): void {
  this.currentStep = 2;
  this.selectedUploadFile = null;
}

// Update onReset method
onReset(): void {
  this.uploadedFilesWithStatus = [];
  this.selectedUploadFile = null;
  this.optionalPrompts = '';
  this.isDragging = false;
  this.currentStep = 1;
}














/* Step 1 Action Buttons Layout */
.step-1-buttons {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.left-buttons {
  display: flex;
  gap: 12px;
}

/* Upload Button */
.upload-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  background: linear-gradient(135deg, var(--primary-color), #a78bfa);
  color: white;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.2);
}

.upload-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.upload-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.upload-btn svg {
  width: 16px;
  height: 16px;
}

/* Next Button */
.next-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
}

.next-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.next-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.next-btn svg {
  width: 16px;
  height: 16px;
}
