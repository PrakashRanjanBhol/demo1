let navType = 'navigate'; // default

if ('getEntriesByType' in performance) {
  const entries = performance.getEntriesByType('navigation') as PerformanceNavigationTiming[];
  if (entries && entries.length > 0) {
    navType = entries[0].type;
  } else if (performance.navigation) {
    // Fallback for older browsers
    switch (performance.navigation.type) {
      case performance.navigation.TYPE_RELOAD:
        navType = 'reload';
        break;
      case performance.navigation.TYPE_BACK_FORWARD:
        navType = 'back_forward';
        break;
      default:
        navType = 'navigate';
    }
  }
}

if (navType === 'reload') {
  console.log('üîÑ Page reloaded');
} else if (navType === 'navigate') {
  console.log('‚û°Ô∏è Normal navigation (routerLink or direct click)');
} else if (navType === 'back_forward') {
  console.log('‚è™ Came via browser back/forward');
}
