import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';

export interface ChatItem {
  id: number;
  name: string;
  date: string;
  active: boolean;
}

@Component({
  selector: 'app-chat-history',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './chat-history.component.html',
  styleUrls: ['./chat-history.component.css']
})
export class ChatHistoryComponent {
  chatList: ChatItem[] = [
    {
      id: 1,
      name: 'Website Redesign Discussion',
      date: 'Today, 2:45 PM',
      active: true
    },
    {
      id: 2,
      name: 'Python Data Analysis Help',
      date: 'Yesterday, 9:30 AM',
      active: false
    },
    {
      id: 3,
      name: 'Recipe Ideas for Dinner Party',
      date: 'Dec 2, 4:15 PM',
      active: false
    },
    {
      id: 4,
      name: 'JavaScript Async Functions Explained',
      date: 'Dec 1, 11:20 AM',
      active: false
    },
    {
      id: 5,
      name: 'Travel Recommendations for Tokyo',
      date: 'Nov 29, 3:00 PM',
      active: false
    },
    {
      id: 6,
      name: 'Machine Learning Model Training Tips',
      date: 'Nov 28, 10:45 AM',
      active: false
    },
    {
      id: 7,
      name: 'Budget Planning Strategies',
      date: 'Nov 27, 5:30 PM',
      active: false
    },
    {
      id: 8,
      name: 'React Component Best Practices',
      date: 'Nov 26, 1:15 PM',
      active: false
    }
  ];

  deleteAllChats(): void {
    const confirmed = confirm('Are you sure you want to delete all chat history? This action cannot be undone.');
    if (confirmed) {
      this.chatList = [];
      console.log('All chats deleted');
    }
  }

  selectChat(chatId: number): void {
    this.chatList = this.chatList.map(chat => ({
      ...chat,
      active: chat.id === chatId
    }));
  }

  onChatAction(event: Event, chatId: number): void {
    event.stopPropagation();
    console.log('Action clicked for chat:', chatId);
    // Add your action logic here (edit, delete, etc.)
  }
}
























<div class="sidebar">
  <div class="sidebar-header">
    <h2>Chat History</h2>
    <button class="delete-all-btn" (click)="deleteAllChats()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="3 6 5 6 21 6"></polyline>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
      </svg>
      Clear all
    </button>
  </div>
  
  <div class="chat-list">
    <div 
      *ngFor="let chat of chatList" 
      class="chat-item"
      [class.active]="chat.active"
      (click)="selectChat(chat.id)">
      <div class="chat-info">
        <div class="chat-name">{{ chat.name }}</div>
        <div class="chat-date">{{ chat.date }}</div>
      </div>
      <div class="chat-action" (click)="onChatAction($event, chat.id)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="1"></circle>
          <circle cx="12" cy="5" r="1"></circle>
          <circle cx="12" cy="19" r="1"></circle>
        </svg>
      </div>
    </div>
  </div>
</div>























/* Dark Mode Variables */
:root {
  --playground-history-bg: #111113;
  --playground-history-body-bg: #1a1a1c;
  --playground-history-border: #2a2a2c;
  --playground-history-text-primary: #e8e8e8;
  --playground-history-text-secondary: #8a8a8e;
  --playground-history-hover-bg: #1a1a1c;
  --playground-history-active-bg: #2a2a2c;
  --playground-history-action-hover-bg: #3a3a3c;
  --playground-history-scrollbar-thumb: #3a3a3c;
  --playground-history-scrollbar-thumb-hover: #4a4a4c;
  --playground-history-icon-color: #b8b8bb;
}

/* Light Mode Variables */
:root.light-mode {
  --playground-history-bg: #fff;
  --playground-history-body-bg: #f5f5f5;
  --playground-history-border: #e0e0e0;
  --playground-history-text-primary: #1a1a1a;
  --playground-history-text-secondary: #666666;
  --playground-history-hover-bg: #f5f5f5;
  --playground-history-active-bg: #e8e8e8;
  --playground-history-action-hover-bg: #e0e0e0;
  --playground-history-scrollbar-thumb: #c0c0c0;
  --playground-history-scrollbar-thumb-hover: #a0a0a0;
  --playground-history-icon-color: #666666;
}

.sidebar {
  width: 320px;
  height: 100vh;
  background-color: var(--playground-history-bg);
  padding: 16px;
  overflow-y: auto;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.sidebar-header {
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--playground-history-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.sidebar-header h2 {
  color: var(--playground-history-text-primary);
  font-size: 18px;
  font-weight: 600;
}

.delete-all-btn {
  background: transparent;
  border: none;
  color: var(--playground-history-text-secondary);
  font-size: 13px;
  cursor: pointer;
  padding: 6px 10px;
  border-radius: 6px;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 6px;
}

.delete-all-btn:hover {
  background-color: var(--playground-history-hover-bg);
  color: var(--playground-history-text-primary);
}

.delete-all-btn svg {
  width: 14px;
  height: 14px;
  stroke: currentColor;
}

.chat-list {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.chat-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.2s ease;
  gap: 12px;
}

.chat-item:hover {
  background-color: var(--playground-history-hover-bg);
}

.chat-item.active {
  background-color: var(--playground-history-active-bg);
}

.chat-info {
  flex: 1;
  min-width: 0;
}

.chat-name {
  color: var(--playground-history-text-primary);
  font-size: 14px;
  font-weight: 500;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.chat-date {
  color: var(--playground-history-text-secondary);
  font-size: 12px;
}

.chat-action {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  opacity: 0;
  transition: opacity 0.2s ease, background-color 0.2s ease;
}

.chat-item:hover .chat-action {
  opacity: 1;
}

.chat-action:hover {
  background-color: var(--playground-history-action-hover-bg);
}

.chat-action svg {
  width: 16px;
  height: 16px;
  stroke: var(--playground-history-icon-color);
}

/* Custom scrollbar */
.sidebar::-webkit-scrollbar {
  width: 6px;
}

.sidebar::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar::-webkit-scrollbar-thumb {
  background: var(--playground-history-scrollbar-thumb);
  border-radius: 3px;
}

.sidebar::-webkit-scrollbar-thumb:hover {
  background: var(--playground-history-scrollbar-thumb-hover);
}

