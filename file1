private _currentSection: 'all' | 'fav' = 'all';

  get currentSection(): 'all' | 'fav' {
    return this._currentSection;
  }

  set currentSection(value: 'all' | 'fav') {
    if (this._currentSection === 'fav' && value === 'all') {
      this.expandedFavProject = null; // reset expanded view when switching away from fav
    }
    this._currentSection = value;
  }






 <!-- Tab Switcher -->
    <div class="project-tabs">
        <div class="tab-button" [class.active]="currentSection === 'all'" (click)="currentSection = 'all'">
            üóÇÔ∏è All Projects
        </div>
        <div class="tab-button" [class.active]="currentSection === 'fav'" (click)="currentSection = 'fav'">
            ‚≠ê Favourite Projects
        </div>
    </div>

    <!-- Info Box Based on Tab -->
    <div class="info-box animated-info" *ngIf="currentSection === 'all'">
        <i class="pi pi-info-circle info-icon"></i>
        <div class="info-content">
            <div class="info-title">All Projects</div>
            <div class="info-subtext">
                Browse all projects available to you. You can <strong>mark any project as Favourite</strong> by clicking
                the star icon.
            </div>
        </div>
    </div>

    <div class="info-box animated-info" *ngIf="currentSection === 'fav'">
        <i class="pi pi-cog info-icon"></i>
        <div class="info-content">
            <div class="info-title">Favourite Projects</div>
            <div class="info-subtext">
                These are your <strong>starred projects</strong>. Click on a project to <strong>view and manage
                    associated tickets</strong>.
            </div>
        </div>
    </div>



    <div class="sidebar-scroll">
        <!-- Expanded Favourite Project View -->
        <div *ngIf="expandedFavProject" class="favourite-project-panel">
            <div class="favourite-header">
                <span class="modern-back-icon" (click)="expandedFavProject = null" title="Back to Projects">
                    <i class="pi pi-arrow-left"></i>
                </span>

                <span class="fav-title">{{ expandedFavProject.name }}</span>

                <!-- Loader for expanded fav project -->
                <ng-container *ngIf="isLoading(expandedFavProject.id)">
                    <div class="inline-loader spinner" style="margin-left: 8px;"></div>
                </ng-container>
            </div>
            <!-- Info Tip inside Expanded Favourite Project View -->
            <div class="fav-info-banner">
                <i class="pi pi-lightbulb icon"></i>
                <div class="text">
                    Tip: Explore the project‚Äôs structure, <strong>select up to 5 tickets</strong>, and
                    <strong>right-click</strong> to ask intelligent queries.
                </div>
            </div>

            <div class="project-structure">
                <ng-container
                    *ngTemplateOutlet="recursiveList; context: { $implicit: expandedFavProject.structure[0].children }">
                </ng-container>
            </div>
        </div>

        <!-- Regular View with Accordion -->
        <!-- Expanded Favourite Project View -->
        <div *ngIf="expandedFavProject" class="favourite-project-panel">
            <div class="favourite-header">
                <span class="modern-back-icon" (click)="expandedFavProject = null" title="Back to Projects">
                    <i class="pi pi-arrow-left"></i>
                </span>

                <span class="fav-title">{{ expandedFavProject.name }}</span>

                <ng-container *ngIf="isLoading(expandedFavProject.id)">
                    <div class="inline-loader spinner" style="margin-left: 8px;"></div>
                </ng-container>
            </div>

            <div class="project-structure">
                <ng-container
                    *ngTemplateOutlet="recursiveList; context: { $implicit: expandedFavProject.structure[0].children }">
                </ng-container>
            </div>
        </div>

        <!-- Regular Project List -->
        <div *ngIf="!expandedFavProject">
            <div class="tree-section-label">
                <div class="tree-parent-node">
                    <span class="node-dot"></span>
                    <span class="node-label">
                        {{ currentSection === 'all' ? 'All Projects' : 'Favourite Projects' }}
                    </span>
                </div>
            </div>

            <div class="project-list tree-style">
                <div *ngFor="let proj of (currentSection === 'all' ? allProjects : favouriteProjects)"
                    class="project-item tree-node" [ngClass]="{
           'fav-dot': proj.isFavourite,
           'non-fav-dot': !proj.isFavourite && currentSection === 'all',
           'blink-dot': isFavouriteLoading(proj.id),
           'favourited': animateMap[proj.id]
         }" [class.loading]="isFavouriteLoading(proj.id) || isLoading(proj.id)">
                    <div class="project-left" (click)="currentSection === 'fav' ? onFavouriteProjectClick(proj) : null">
                        <div class="animated-avatar" [ngClass]="'avatar-' + (proj.id % 6)">
                            {{ proj.name.charAt(0).toUpperCase() }}
                        </div>
                        <div class="project-details">
                            <div class="project-name">{{ proj.name }}</div>
                            <div class="project-id">ID: {{ proj.id }}</div>
                        </div>
                    </div>

                    <div class="project-right">
                        <!-- All Projects Star Toggle -->
                        <ng-container *ngIf="currentSection === 'all'">
                            <ng-container *ngIf="!isFavouriteLoading(proj.id); else loadingIcon">
                                <i class="pi" [ngClass]="proj.isFavourite ? 'pi-star-fill' : 'pi-star'"
                                    (click)="onFavouriteClick(proj)"
                                    [ngStyle]="{ color: proj.isFavourite ? '#ffc107' : '#888' }"
                                    [class.disabled]="isFavouriteLoading(proj.id)"
                                    pTooltip="{{ proj.isFavourite ? 'Unfavourite' : 'Mark as favourite' }}"
                                    tooltipPosition="left"></i>
                            </ng-container>
                            <ng-template #loadingIcon>
                                <div class="inline-loader spinner"></div>
                            </ng-template>
                        </ng-container>

                        <!-- Chevron in Favourites -->
                        <ng-container *ngIf="currentSection === 'fav'">
                            <ng-container *ngIf="!isLoading(proj.id); else favLoader">
                                <i class="pi pi-chevron-down" *ngIf="!proj.structure[0].isExpanded"></i>
                                <i class="pi pi-chevron-up" *ngIf="proj.structure[0].isExpanded"></i>
                            </ng-container>
                            <ng-template #favLoader>
                                <div class="inline-loader spinner"></div>
                            </ng-template>
                        </ng-container>
                    </div>

                    <!-- Card loader overlay -->
                    <div class="card-loader" *ngIf="isFavouriteLoading(proj.id) || isLoading(proj.id)">
                        <div class="spinner"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>







.fav-info-banner {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  background: #262626;
  color: #eee;
  padding: 10px 14px;
  border-left: 4px solid #ffc107;
  border-radius: 8px;
  margin-bottom: 12px;
  font-size: 0.8rem;
  animation: fadeSlideUp 0.4s ease-in-out;
  box-shadow: 0 1px 4px rgba(255, 193, 7, 0.1);
}

.fav-info-banner .icon {
  font-size: 1.2rem;
  color: #ffc107;
  margin-top: 2px;
}

.fav-info-banner .text {
  line-height: 1.4;
  color: #ccc;
}


