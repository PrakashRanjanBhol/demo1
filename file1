<!-- Features Selection Section -->
<div class="settings-section">
    <div class="section-header">
        <div class="section-title">Features</div>
        <p class="section-description">Select the features you want to enable</p>
    </div>
    <div class="features-grid">
        <div class="feature-item compact disabled">
            <input type="checkbox" id="feature-general" checked disabled>
            <label for="feature-general" class="feature-label">
                <span class="feature-checkbox">
                    <svg class="checkmark" viewBox="0 0 12 12">
                        <polyline points="2,6 5,9 10,3" />
                    </svg>
                </span>
                <span class="feature-name">General</span>
            </label>
        </div>
        
        <div *ngFor="let feature of features" class="feature-item compact" (click)="toggleFeature(feature.id)">
            <input type="checkbox" [id]="'feature-' + feature.id" [checked]="isFeatureEnabled(feature.id)">
            <label [for]="'feature-' + feature.id" class="feature-label">
                <span class="feature-checkbox">
                    <svg class="checkmark" viewBox="0 0 12 12">
                        <polyline points="2,6 5,9 10,3" />
                    </svg>
                </span>
                <span class="feature-name">{{ feature.name }}</span>
            </label>
        </div>
    </div>
</div>












interface Feature {
  id: string;
  name: string;
}

// Add to your component class:
features: Feature[] = [
  { id: 'code-rag', name: 'Code RAG' },
  { id: 'jira', name: 'Jira' },
  { id: 'confluence', name: 'Confluence' },
  { id: 'prompt-template', name: 'Prompt Template' },
  { id: 'sdlc-suite', name: 'SDLC Suite' },
  { id: 'bitbucket', name: 'Bitbucket' },
  { id: 'agentic-ai', name: 'Agentic AI' }
];

selectedFeatures: string[] = ['code-rag', 'jira']; // Default selected features

toggleFeature(featureId: string): void {
  const index = this.selectedFeatures.indexOf(featureId);
  if (index > -1) {
    this.selectedFeatures.splice(index, 1);
  } else {
    this.selectedFeatures.push(featureId);
  }
  localStorage.setItem('selectedFeatures', JSON.stringify(this.selectedFeatures));
  console.log('Selected features:', this.selectedFeatures);
}

isFeatureEnabled(featureId: string): boolean {
  return this.selectedFeatures.includes(featureId);
}

// Add to ngOnInit():
const savedFeatures = localStorage.getItem('selectedFeatures');
if (savedFeatures) {
  this.selectedFeatures = JSON.parse(savedFeatures);
}












/* Features Selection - Compact */
.features-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
}

.feature-item.compact {
    position: relative;
}

.feature-item.compact input[type="checkbox"] {
    display: none;
}

.feature-label {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1.5px solid var(--app-settings-theme-border);
    background: var(--app-settings-bg);
}

.feature-item.compact:hover:not(.disabled) .feature-label {
    border-color: var(--app-settings-theme-hover-border);
    background: var(--app-settings-card-bg);
}

.feature-item.compact.disabled .feature-label {
    cursor: not-allowed;
    opacity: 0.7;
}

.feature-checkbox {
    width: 16px;
    height: 16px;
    border-radius: 4px;
    border: 1.5px solid var(--app-settings-check-border);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.feature-item.compact input[type="checkbox"]:checked + .feature-label .feature-checkbox {
    background: var(--app-settings-selected-border);
    border-color: var(--app-settings-selected-border);
}

.checkmark {
    width: 10px;
    height: 10px;
    fill: none;
    stroke: white;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.feature-item.compact input[type="checkbox"]:checked + .feature-label .checkmark {
    opacity: 1;
}

.feature-name {
    font-size: 12px;
    color: var(--app-settings-text-primary);
    font-weight: 500;
}
