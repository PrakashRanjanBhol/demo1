// ONLY SHOWING THE MODIFIED PART

// MODIFIED METHOD - Group all FAQs into single Assessment Questions block
private mapResponseToResultItems(data: FileResultData): any[] {
  const items: any[] = [];

  // Add summary
  if (data.summary) {
    items.push({
      id: 'summary',
      title: 'Lecture Summary',
      icon: 'document',
      content: data.summary,
      type: 'summary'
    });
  }

  // Add keywords as array
  if (data.keywords && data.keywords.length > 0) {
    items.push({
      id: 'keywords',
      title: 'Keywords',
      icon: 'tag',
      content: data.keywords.map(k => `• ${k}`).join(' '),
      keywords: data.keywords,
      type: 'keywords'
    });
  }

  // MODIFIED - Add ALL FAQs as single "Assessment Questions" block
  if (data.faq && data.faq.length > 0) {
    // Build single content string with all Q&A pairs
    const allQuestionsContent = data.faq
      .map((faqItem, index) => 
        `**Question ${index + 1}:** ${faqItem.question}\n\n**Answer:** ${faqItem.answer}`
      )
      .join('\n\n---\n\n');  // Separator between questions

    items.push({
      id: 'assessment-questions',  // Single ID for all questions
      title: 'Assessment Questions',
      icon: 'question',
      content: allQuestionsContent,
      type: 'questions',
      faqList: data.faq  // NEW - Store original FAQ array for reference
    });
  }

  return items;
}











// ALTERNATIVE VERSION - Better formatted with numbers

// MODIFIED METHOD - Group all FAQs with cleaner formatting
private mapResponseToResultItems(data: FileResultData): any[] {
  const items: any[] = [];

  // Add summary
  if (data.summary) {
    items.push({
      id: 'summary',
      title: 'Lecture Summary',
      icon: 'document',
      content: data.summary,
      type: 'summary'
    });
  }

  // Add keywords as array
  if (data.keywords && data.keywords.length > 0) {
    items.push({
      id: 'keywords',
      title: 'Keywords',
      icon: 'tag',
      content: data.keywords.map(k => `• ${k}`).join(' '),
      keywords: data.keywords,
      type: 'keywords'
    });
  }

  // MODIFIED - Add ALL FAQs as single block with better formatting
  if (data.faq && data.faq.length > 0) {
    // Build content with numbered questions
    const allQuestionsContent = data.faq
      .map((faqItem, index) => {
        const qNumber = index + 1;
        return `### Question ${qNumber}\n${faqItem.question}\n\n**Answer:**\n${faqItem.answer}`;
      })
      .join('\n\n---\n\n');

    items.push({
      id: 'assessment-questions',
      title: `Assessment Questions (${data.faq.length})`,  // Show count in title
      icon: 'question',
      content: allQuestionsContent,
      type: 'questions',
      faqList: data.faq
    });
  }

  return items;
}
