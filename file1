openDetail(item: ResultItem): void {
  this.selectedItemName = item.title;
  this.selectedItemDate = this.selectedHistoryItem?.displayDate || '';
  this.selectedResultItemId = item.id;
  this.selectedDetailItem = item;
  
  // Set content based on item type
  if (item.type === 'summary' && item.htmlContent) {
    this.selectedItemContent = item.htmlContent;
  } else if (item.type === 'keywords') {
    this.selectedItemContent = '';
  } else if (item.type === 'questions') {
    this.selectedItemContent = '';
  } else {
    // Handle dynamic content - convert markdown to HTML if content exists
    const contentToRender = item.content || '';
    if (contentToRender) {
      const htmlContent: any = marked(contentToRender);
      this.selectedItemContent = this.sanitizer.bypassSecurityTrustHtml(htmlContent);
    } else {
      // If no content available, show empty or a placeholder
      this.selectedItemContent = this.sanitizer.bypassSecurityTrustHtml(
        '<p style="color: #888; font-style: italic;">No content available</p>'
      );
    }
  }
  
  this.isDetailOpen = true;
}
