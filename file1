code = code.replace(/subgraph\s+([^\n]*)/g, (match, p1) => {
    if (p1.includes("(") || p1.includes(")")) {
        const sanitized = p1.replace(/[()]/g, "");
        return `subgraph ${sanitized}`;
    }
    return match; // leave untouched
});
