<div class="main-heading animate-in">
  <svg class="main-heading-icon pr-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="18" cy="18" r="3"/>
    <circle cx="6" cy="6" r="3"/>
    <path d="M13 6h3a2 2 0 0 1 2 2v7"/>
    <line x1="6" y1="9" x2="6" y2="21"/>
  </svg>
  <h1>{{ selectedPR.title }}</h1>
  
  <!-- Approve/Unapprove toggle button -->
  <button 
    class="pr-action-btn approve-btn" 
    [class.approved]="selectedPR.status === 'APPROVED'"
    (click)="toggleApprovePR()" 
    [title]="selectedPR.status === 'APPROVED' ? 'Unapprove PR' : 'Approve PR'">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="20 6 9 17 4 12"/>
    </svg>
  </button>
  
  <div class="auto-review-badge" *ngIf="selectedPR.autoReview" title="AI Auto Review Enabled">
    <!-- ... rest remains same ... -->
  </div>
  
  <div class="header-actions">
    <!-- ... rest remains same ... -->
  </div>
</div>











// Replace the three methods with this single toggle method
toggleApprovePR(): void {
  if (!this.selectedPR) return;
  
  if (this.selectedPR.status === 'APPROVED') {
    // Unapprove
    if (confirm('Are you sure you want to unapprove this PR?')) {
      console.log('Unapproving PR #' + this.selectedPR.number);
      this.selectedPR.status = 'UNAPPROVED';
      this.updateHasContent();
      // Add your unapprove PR logic here
    }
  } else {
    // Approve
    if (confirm('Are you sure you want to approve this PR?')) {
      console.log('Approving PR #' + this.selectedPR.number);
      this.selectedPR.status = 'APPROVED';
      this.updateHasContent();
      // Add your approve PR logic here
    }
  }
}

// REMOVE these methods:
// onApprovePR()
// onNeedWorkPR()
// onRejectPR()













/* Approve/Unapprove toggle button */
.pr-action-btn.approve-btn {
  color: var(--bitbucket-file-status-success);
}

.pr-action-btn.approve-btn:hover {
  background: var(--bitbucket-file-status-success-bg);
  border-color: var(--bitbucket-file-status-success);
  box-shadow: 0 2px 8px var(--bitbucket-file-status-success-shadow);
}

/* Approved state - highlighted */
.pr-action-btn.approve-btn.approved {
  background: var(--bitbucket-file-status-success);
  color: #ffffff;
  border-color: var(--bitbucket-file-status-success);
}

.pr-action-btn.approve-btn.approved:hover {
  background: var(--bitbucket-file-status-success-bg);
  color: var(--bitbucket-file-status-success);
  border-color: var(--bitbucket-file-status-success);
}

/* REMOVE these styles:
- .needwork-btn
- .reject-btn
- .pr-action-btn:disabled
- .pr-action-btn.active
*/
