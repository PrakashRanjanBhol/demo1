MODIFY: repository-sidebar.component.ts
Replace the onFileRightClick method with this updated version:
typescript// âœ… REPLACE THIS METHOD (around line 250)
onFileRightClick(event: MouseEvent, fileName: string): void {
  this.selectedFileName = fileName;
  if (this.overlayPanel) {
    // Use the event target as the reference for positioning
    this.overlayPanel.toggle(event, event.currentTarget as HTMLElement);
  }
  event.preventDefault();
  event.stopPropagation();
}
OR - Alternative Solution (More Control)
If the above doesn't work perfectly, use this version with explicit event target:
typescript// âœ… ALTERNATIVE METHOD - Better positioning control
onFileRightClick(event: MouseEvent, fileName: string): void {
  this.selectedFileName = fileName;
  if (this.overlayPanel) {
    // Show the overlay panel at the cursor position
    this.overlayPanel.show(event);
  }
  event.preventDefault();
  event.stopPropagation();
}
OR - Best Solution (Most Reliable)
For the most reliable positioning, modify the HTML template to add a target element:
Step 1: Update HTML (repository-sidebar.component.html)
html<!-- âœ… MODIFY the file-item div to add template reference -->
<div class="file-item" 
     #fileItem
     *ngFor="let item of getCurrentFolderItems()"
     [class.clickable]="item.isFolder"
     (click)="item.isFolder && openFolder(item.name)"
     (dblclick)="!item.isFolder && handleFileDoubleClick(item.name)"
     (contextmenu)="!item.isFolder && onFileRightClick($event, item.name, fileItem)">
    <!-- rest of the file item content -->
</div>
Step 2: Update TypeScript Method
typescript// âœ… REPLACE with this method signature (around line 250)
onFileRightClick(event: MouseEvent, fileName: string, target: HTMLElement): void {
  this.selectedFileName = fileName;
  if (this.overlayPanel) {
    // Toggle with explicit target element
    this.overlayPanel.toggle(event, target);
  }
  event.preventDefault();
  event.stopPropagation();
}

ðŸŽ¯ Recommended Solution (Complete Code)
Here's the complete recommended fix:
FILE: repository-sidebar.component.html
Find the file-item section (around line 150-180) and replace with:
html<div class="file-item" 
     #fileItem
     *ngFor="let item of getCurrentFolderItems()"
     [class.clickable]="item.isFolder"
     (click)="item.isFolder && openFolder(item.name)"
     (dblclick)="!item.isFolder && handleFileDoubleClick(item.name)"
     (contextmenu)="!item.isFolder && onFileRightClick($event, item.name, fileItem)">
    <svg class="file-icon" 
         [class.folder-icon]="item.isFolder"
         [class.file-icon-default]="!item.isFolder"
         viewBox="0 0 24 24" 
         fill="none" 
         stroke="currentColor" 
         stroke-width="2">
        <path *ngIf="item.isFolder" 
              d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
        <ng-container *ngIf="!item.isFolder">
            <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
            <polyline points="13 2 13 9 20 9"></polyline>
        </ng-container>
    </svg>
    <div class="file-name">{{ item.name }}</div>
</div>
FILE: repository-sidebar.component.ts
Replace the method (around line 250):
typescript// âœ… COMPLETE METHOD WITH PROPER POSITIONING
onFileRightClick(event: MouseEvent, fileName: string, target: HTMLElement): void {
  this.selectedFileName = fileName;
  if (this.overlayPanel) {
    // Show overlay panel positioned relative to the clicked element
    this.overlayPanel.toggle(event, target);
  }
  event.preventDefault();
  event.stopPropagation();
}

ðŸ”§ Additional CSS Fix (Optional)
If you still have positioning issues, add this to your CSS:
FILE: repository-sidebar.component.css
Add at the bottom with other OverlayPanel styles:
css/* âœ… ADD THIS FOR BETTER POSITIONING */

/* Ensure overlay has proper z-index */
::ng-deep .file-actions-overlay.p-overlaypanel {
    z-index: 1100 !important;
}

/* Position overlay properly */
::ng-deep .p-overlaypanel {
    position: absolute !important;
}

/* Ensure the overlay appears near cursor on right-click */
.file-item {
    position: relative;
}
