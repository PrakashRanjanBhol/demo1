onFileToggle(file: FileNode) {
  if (!file.selected) {
    if (this.selectedFiles.length >= 5) {
      return; // already disabled in UI
    }
    file.selected = true;
    this.selectedFiles.push(file);
  } else {
    file.selected = false;
    this.selectedFiles = this.selectedFiles.filter(f => f !== file);
  }
}

// Check if checkbox should be disabled
isCheckboxDisabled(node: FileNode): boolean {
  return !node.selected && this.selectedFiles.length >= 5;
}


[disabled]="isCheckboxDisabled(node)"


.file-label input[type="checkbox"]:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}
