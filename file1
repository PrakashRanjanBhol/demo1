private _currentFolderItems: { name: string; isFolder: boolean }[] = [];
private _lastPath: string = '';


// ❌ REMOVE THIS METHOD
getCurrentFolderItems(): { name: string; isFolder: boolean }[] {
  let currentFolder = this.fileSystem.root;
  // ... existing code
}

// ✅ ADD THIS GETTER INSTEAD
get currentFolderItems(): { name: string; isFolder: boolean }[] {
  const currentPathKey = this.currentPath.join('/');
  
  // Only recalculate if path changed
  if (this._lastPath !== currentPathKey) {
    this._lastPath = currentPathKey;
    
    let currentFolder = this.fileSystem.root;
    for (let i = 1; i < this.currentPath.length; i++) {
      if (currentFolder.children) {
        currentFolder = currentFolder.children[this.currentPath[i]];
      }
    }
    
    this._currentFolderItems = !currentFolder.children ? [] : 
      Object.keys(currentFolder.children).map(name => ({
        name,
        isFolder: currentFolder.children![name].type === 'folder'
      }));
  }
  
  return this._currentFolderItems;
}





<!-- ❌ OLD -->
*ngFor="let item of getCurrentFolderItems()"

<!-- ✅ NEW -->
*ngFor="let item of currentFolderItems"
