export class CenterContentComponent implements OnInit {
  // ... existing properties ...
  
  // Add this property
  hasContent: boolean = false;

  // Remove the getter
  // REMOVE: get hasContent(): boolean { ... }

  ngOnInit(): void {
    // Initialize with first PR
    if (this.selectedPR) {
      this.activeView = 'pr';
      this.updateHasContent();
    }
  }

  // Add this helper method
  private updateHasContent(): void {
    this.hasContent = this.selectedPR !== null || this.selectedFile !== null;
  }

  // Update selectPR method
  selectPR(pr: PRInfo): void {
    this.selectedPR = pr;
    this.activeView = 'pr';
    this.updateHasContent();
  }

  // Update selectFile method
  selectFile(file: FileInfo): void {
    this.selectedFile = file;
    this.activeView = 'file';
    this.updateHasContent();
  }

  // Update toggleView method
  toggleView(): void {
    if (this.activeView === 'pr') {
      this.selectFile(this.files[0]);
    } else {
      this.selectPR(this.prs[0]);
    }
    this.updateHasContent();
  }

  // Update approval/rejection methods to update hasContent if needed
  onApprovePR(): void {
    if (this.selectedPR && this.selectedPR.status !== 'APPROVED') {
      if (confirm('Are you sure you want to approve this PR?')) {
        console.log('Approving PR #' + this.selectedPR.number);
        this.selectedPR.status = 'APPROVED';
        this.updateHasContent();
      }
    }
  }

  onNeedWorkPR(): void {
    if (this.selectedPR && this.selectedPR.status !== 'NEEDS_WORK') {
      if (confirm('Mark this PR as "Need to Work"?')) {
        console.log('Marking PR #' + this.selectedPR.number + ' as need work');
        this.selectedPR.status = 'NEEDS_WORK';
        this.updateHasContent();
      }
    }
  }

  onRejectPR(): void {
    if (this.selectedPR && this.selectedPR.status !== 'UNAPPROVED') {
      if (confirm('Are you sure you want to reject this PR?')) {
        console.log('Rejecting PR #' + this.selectedPR.number);
        this.selectedPR.status = 'UNAPPROVED';
        this.updateHasContent();
      }
    }
  }

  onSummarize(): void {
    console.log('Summarizing PR #' + this.selectedPR?.number);
    this.updateHasContent();
  }

  onClosePR(): void {
    if (confirm('Are you sure you want to close this PR?')) {
      console.log('Closing PR #' + this.selectedPR?.number);
      // Optionally clear the PR after closing
      // this.selectedPR = null;
      // this.updateHasContent();
    }
  }
}
