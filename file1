// Update the GenerateRequest interface (remove mode)
interface GenerateRequest {
  fileID: string | number;
  optional_prompt: string;
  model_name: string;
}

// Update the generateAnalysis method
private generateAnalysis(request: GenerateRequest): void {
  const sub = this.generateService.generateAnalysis(request).subscribe({
    next: (response) => {
      console.log('Generation successful:', response);
      this.onGenerate.emit({
        file: request,
        prompts: this.optionalPrompts,
        mode: this.uploadMode  // Use uploadMode instead
      });

      // Simulate completion after API response
      setTimeout(() => {
        this.completeProcessing();
      }, 500);
    },
    error: (error) => {
      console.error('Generation error:', error);
      this.isProcessing = false;
      // You can show error message to user here
    }
  });
  this.subscriptions.push(sub);
}
