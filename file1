// MODIFIED method to handle null file_path
public getModifiedFiles(): Array<{tool: string, fileName: string, filePath: string | null, isNewFile: boolean}> {
  const modifiedFiles: Array<{tool: string, fileName: string, filePath: string | null, isNewFile: boolean}> = [];
  
  this.executedItems.forEach(item => {
    if (item.tool === 'WRITE' || item.tool === 'MODIFY') {
      const fileDetails = this.getFileDetails(item.content);
      if (fileDetails && fileDetails.file_name) {
        modifiedFiles.push({
          tool: item.tool,
          fileName: fileDetails.file_name,
          filePath: fileDetails.file_path || null,
          isNewFile: !fileDetails.file_path || fileDetails.file_path === null
        });
      }
    }
  });
  
  return modifiedFiles;
}









<div class="vibe-coding-files-list">
  <div *ngFor="let file of getModifiedFiles()" class="vibe-coding-modified-file">
    <div class="vibe-coding-modified-file-header">
      <span class="vibe-coding-modified-badge" [ngClass]="{'vibe-coding-badge-write': file.tool === 'WRITE', 'vibe-coding-badge-modify': file.tool === 'MODIFY'}">
        {{ file.tool }}
      </span>
      <span class="vibe-coding-modified-filename">{{ file.fileName }}</span>
      <!-- NEW: Show "New File" badge if no path -->
      <span *ngIf="file.isNewFile" class="vibe-coding-new-file-badge">New File</span>
    </div>
    <!-- MODIFIED: Only show path if it exists -->
    <div *ngIf="!file.isNewFile" class="vibe-coding-modified-filepath">{{ file.filePath }}</div>
  </div>
</div>






/* New File Badge */
.vibe-coding-new-file-badge {
  font-size: 0.65rem;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--vibe-accent-green);
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  flex-shrink: 0;
  margin-left: auto;
}
