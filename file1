export class WorkflowSidebarComponent implements OnInit, OnDestroy {
  // ... existing properties and methods ...

  runWorkflow(workflowId: string, event: Event): void {
    event.stopPropagation();
    
    // Add workflow ID to running array
    this.runningWorkflowIds.push(workflowId);
    
    console.log(`Running workflow: ${workflowId}`);
    
    // Simulate API call with delay
    setTimeout(() => {
      // Remove workflow ID from running array
      this.runningWorkflowIds = this.runningWorkflowIds.filter(id => id !== workflowId);
      
      // Find the workflow that was just run
      const runningWorkflow = this.myWorkflows.find(w => w.id === workflowId);
      
      if (runningWorkflow) {
        // Update the workflow status to active
        runningWorkflow.active = true;
        
        // Add to active workflows list (avoid duplicates)
        const existsInActive = this.activeWorkflows.some(w => w.id === workflowId);
        if (!existsInActive) {
          this.activeWorkflows.push({ ...runningWorkflow });
          console.log(`Workflow ${workflowId} added to Active Workflows`);
        }
      }
      
      console.log(`Workflow ${workflowId} execution started and moved to Active Workflows`);
      
      // In production: make API call to run workflow
      // The API response should confirm the workflow is now active
    }, 2000); // 2 second delay to simulate API call
  }

  // Update stop workflow to remove from active workflows
  stopWorkflow(workflowId: string, event: Event): void {
    event.stopPropagation();
    
    // Add workflow ID to stopping array
    this.stoppingWorkflowIds.push(workflowId);
    
    console.log(`Stopping workflow: ${workflowId}`);
    
    // Simulate API call with delay
    setTimeout(() => {
      // Find the workflow in active workflows
      const stoppedWorkflow = this.activeWorkflows.find(w => w.id === workflowId);
      
      // Remove from active workflows
      this.activeWorkflows = this.activeWorkflows.filter(w => w.id !== workflowId);
      
      // Update status in myWorkflows if it exists there
      if (stoppedWorkflow) {
        const myWorkflow = this.myWorkflows.find(w => w.id === workflowId);
        if (myWorkflow) {
          myWorkflow.active = false;
        }
      }
      
      // Remove from stopping array
      this.stoppingWorkflowIds = this.stoppingWorkflowIds.filter(id => id !== workflowId);
      
      console.log(`Workflow ${workflowId} stopped and removed from Active Workflows`);
      
      // In production: make API call to stop workflow
    }, 2000); // 2 second delay to simulate API call
  }

  // ... rest of existing methods ...
}
