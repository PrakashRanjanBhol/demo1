constructor(private authService: AuthService, private router: Router) {}

ngOnInit() {
  this.router.events.subscribe(event => {
    if (event.constructor.name === 'NavigationEnd') {
      const user = this.authService['getStoredUser']();
      if (user?.method === 'sso' && this.router.url !== '/login') {
        this.authService.connectSSO(true);
      }
    }
  });
}
